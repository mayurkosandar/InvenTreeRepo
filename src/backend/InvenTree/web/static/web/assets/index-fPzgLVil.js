const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileAppView-CiAY77Xs.js","assets/vendor-BnaqX2_l.js","assets/BaseContext-CH9A7-TB.js","assets/BaseContext-DcZSjbzQ.css","assets/links-63IpDbCn.js","assets/DesktopAppView-CAvOv5f4.js"])))=>i.map(i=>d[i]);
import{c as w,p as j,a as U,i as s,s as Y,b as O,n as g,j as m,I as J,d as K,e as V,Q,f as H,t as Z,g as M,r as I,M as E,S as A,C as ee,L as te,u as re,h as ae,k as le,R as D}from"./vendor-BnaqX2_l.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();const y=w()(j((e,r)=>({autoupdate:!1,toggleAutoupdate:()=>e(t=>({autoupdate:!t.autoupdate})),host:"",setHost:(t,l)=>e({host:t,hostKey:l}),hostKey:"",hostList:{},setHostList:t=>e({hostList:t}),language:"en",setLanguage:t=>e({language:t}),primaryColor:"indigo",whiteColor:"#fff",blackColor:"#000",radius:"xs",loader:"oval",setLoader(t){e({loader:t})},lastUsedPanels:{},setLastUsedPanel:t=>l=>{r().lastUsedPanels[t]!==l&&e({lastUsedPanels:{...r().lastUsedPanels,[t]:l}})},tableColumnNames:{},getTableColumnNames:t=>r().tableColumnNames[t]||null,setTableColumnNames:t=>l=>{e({tableColumnNames:{...r().tableColumnNames,[t]:l}})},clearTableColumnNames:()=>{e({tableColumnNames:{}})},tableSorting:{},getTableSorting:t=>r().tableSorting[t]||{},setTableSorting:t=>l=>{e({tableSorting:{...r().tableSorting,[t]:l}})},detailDrawerStack:0,addDetailDrawer:t=>{e({detailDrawerStack:t===!1?0:r().detailDrawerStack+t})},navigationOpen:!1,setNavigationOpen:t=>{e({navigationOpen:t})},allowMobile:!1,setAllowMobile:t=>{e({allowMobile:t})}}),{name:"session-settings"}));var i=(e=>(e.api_server_info="",e.user_list="user/",e.user_me="user/me/",e.user_roles="user/roles/",e.user_token="user/token/",e.user_tokens="user/tokens/",e.user_simple_login="email/generate/",e.user_reset="auth/password/reset/",e.user_reset_set="auth/password/reset/confirm/",e.user_change_password="auth/password/change/",e.user_sso="auth/social/",e.user_sso_remove="auth/social/:id/disconnect/",e.user_emails="auth/emails/",e.user_email_remove="auth/emails/:id/remove/",e.user_email_verify="auth/emails/:id/verify/",e.user_email_primary="auth/emails/:id/primary/",e.user_login="auth/login/",e.user_logout="auth/logout/",e.user_register="auth/registration/",e.currency_list="currency/exchange/",e.currency_refresh="currency/refresh/",e.all_units="units/all/",e.task_overview="background-task/",e.task_pending_list="background-task/pending/",e.task_scheduled_list="background-task/scheduled/",e.task_failed_list="background-task/failed/",e.api_search="search/",e.settings_global_list="settings/global/",e.settings_user_list="settings/user/",e.news="news/",e.global_status="generic/status/",e.custom_state_list="generic/status/custom/",e.version="version/",e.license="license/",e.sso_providers="auth/providers/",e.group_list="user/group/",e.owner_list="user/owner/",e.content_type_list="contenttype/",e.icons="icons/",e.selectionlist_list="selection/",e.selectionlist_detail="selection/:id/",e.barcode="barcode/",e.barcode_history="barcode/history/",e.barcode_link="barcode/link/",e.barcode_unlink="barcode/unlink/",e.barcode_generate="barcode/generate/",e.import_session_list="importer/session/",e.import_session_accept_fields="importer/session/:id/accept_fields/",e.import_session_accept_rows="importer/session/:id/accept_rows/",e.import_session_column_mapping_list="importer/column-mapping/",e.import_session_row_list="importer/row/",e.notifications_list="notifications/",e.notifications_readall="notifications/readall/",e.build_order_list="build/",e.build_order_issue="build/:id/issue/",e.build_order_cancel="build/:id/cancel/",e.build_order_hold="build/:id/hold/",e.build_order_complete="build/:id/finish/",e.build_output_complete="build/:id/complete/",e.build_output_create="build/:id/create-output/",e.build_output_scrap="build/:id/scrap-outputs/",e.build_output_delete="build/:id/delete-outputs/",e.build_order_auto_allocate="build/:id/auto-allocate/",e.build_order_allocate="build/:id/allocate/",e.build_order_deallocate="build/:id/unallocate/",e.build_line_list="build/line/",e.build_item_list="build/item/",e.bom_list="bom/",e.bom_item_validate="bom/:id/validate/",e.bom_validate="part/:id/bom-validate/",e.part_list="part/",e.part_parameter_list="part/parameter/",e.part_parameter_template_list="part/parameter/template/",e.part_thumbs_list="part/thumbs/",e.part_pricing="part/:id/pricing/",e.part_serial_numbers="part/:id/serial-numbers/",e.part_scheduling="part/:id/scheduling/",e.part_pricing_internal="part/internal-price/",e.part_pricing_sale="part/sale-price/",e.part_stocktake_list="part/stocktake/",e.part_stocktake_report_list="part/stocktake/report/",e.part_stocktake_report_generate="part/stocktake/report/generate/",e.category_list="part/category/",e.category_tree="part/category/tree/",e.category_parameter_list="part/category/parameters/",e.related_part_list="part/related/",e.part_test_template_list="part/test-template/",e.company_list="company/",e.contact_list="company/contact/",e.address_list="company/address/",e.supplier_part_list="company/part/",e.supplier_part_pricing_list="company/price-break/",e.manufacturer_part_list="company/part/manufacturer/",e.manufacturer_part_parameter_list="company/part/manufacturer/parameter/",e.stock_location_list="stock/location/",e.stock_location_type_list="stock/location-type/",e.stock_location_tree="stock/location/tree/",e.stock_item_list="stock/",e.stock_tracking_list="stock/track/",e.stock_test_result_list="stock/test/",e.stock_transfer="stock/transfer/",e.stock_remove="stock/remove/",e.stock_add="stock/add/",e.stock_count="stock/count/",e.stock_change_status="stock/change_status/",e.stock_merge="stock/merge/",e.stock_assign="stock/assign/",e.stock_status="stock/status/",e.stock_install="stock/:id/install/",e.stock_uninstall="stock/:id/uninstall/",e.stock_serialize="stock/:id/serialize/",e.stock_return="stock/:id/return/",e.generate_batch_code="generate/batch-code/",e.generate_serial_number="generate/serial-number/",e.purchase_order_list="order/po/",e.purchase_order_issue="order/po/:id/issue/",e.purchase_order_hold="order/po/:id/hold/",e.purchase_order_cancel="order/po/:id/cancel/",e.purchase_order_complete="order/po/:id/complete/",e.purchase_order_line_list="order/po-line/",e.purchase_order_extra_line_list="order/po-extra-line/",e.purchase_order_receive="order/po/:id/receive/",e.sales_order_list="order/so/",e.sales_order_issue="order/so/:id/issue/",e.sales_order_hold="order/so/:id/hold/",e.sales_order_cancel="order/so/:id/cancel/",e.sales_order_ship="order/so/:id/ship/",e.sales_order_complete="order/so/:id/complete/",e.sales_order_allocate="order/so/:id/allocate/",e.sales_order_allocate_serials="order/so/:id/allocate-serials/",e.sales_order_line_list="order/so-line/",e.sales_order_extra_line_list="order/so-extra-line/",e.sales_order_allocation_list="order/so-allocation/",e.sales_order_shipment_list="order/so/shipment/",e.sales_order_shipment_complete="order/so/shipment/:id/ship/",e.return_order_list="order/ro/",e.return_order_issue="order/ro/:id/issue/",e.return_order_hold="order/ro/:id/hold/",e.return_order_cancel="order/ro/:id/cancel/",e.return_order_complete="order/ro/:id/complete/",e.return_order_receive="order/ro/:id/receive/",e.return_order_line_list="order/ro-line/",e.return_order_extra_line_list="order/ro-extra-line/",e.label_list="label/template/",e.label_print="label/print/",e.label_output="label/output/",e.report_list="report/template/",e.report_print="report/print/",e.report_output="report/output/",e.report_snippet="report/snippet/",e.report_asset="report/asset/",e.plugin_list="plugins/",e.plugin_setting_list="plugins/:plugin/settings/",e.plugin_registry_status="plugins/status/",e.plugin_install="plugins/install/",e.plugin_reload="plugins/reload/",e.plugin_activate="plugins/:key/activate/",e.plugin_uninstall="plugins/:key/uninstall/",e.plugin_admin="plugins/:key/admin/",e.plugin_ui_features_list="plugins/ui/features/:feature_type/",e.plugin_locate_item="locate/",e.machine_types_list="machine/types/",e.machine_driver_list="machine/drivers/",e.machine_registry_status="machine/status/",e.machine_list="machine/",e.machine_restart="machine/:machine/restart/",e.machine_setting_list="machine/:machine/settings/",e.machine_setting_detail="machine/:machine/settings/:config_type/",e.attachment_list="attachment/",e.error_report_list="error-report/",e.project_code_list="project-code/",e.custom_unit_list="units/",e.ui_preference="web/ui_preference/",e.notes_image_upload="notes-image-upload/",e))(i||{}),se=(e=>(e.admin="admin",e.build="build",e.part="part",e.part_category="part_category",e.purchase_order="purchase_order",e.return_order="return_order",e.sales_order="sales_order",e.stock="stock",e.stock_location="stock_location",e.stocktake="stocktake",e))(se||{}),p=(e=>(e.view="view",e.add="add",e.change="change",e.delete="delete",e))(p||{});const oe={server:null,version:null,instance:null,apiVersion:null,worker_running:null,worker_pending_tasks:null,plugins_enabled:null,plugins_install_disabled:null,active_plugins:[],email_configured:null,debug_mode:null,docker_mode:null,database:null,system_health:null,platform:null,installer:null,target:null,default_locale:null,django_admin:null},Ne=[{value:0,label:"xs"},{value:25,label:"sm"},{value:50,label:"md"},{value:75,label:"lg"},{value:100,label:"xl"}],ie=w()(j(e=>({server:oe,setServer:r=>e({server:r}),fetchServerApiState:async()=>{await u.get(d(i.api_server_info)).then(r=>{e({server:r.data})}).catch(()=>{console.error("ERR: Error fetching server info")}),await u.get(d(i.sso_providers),{headers:{Authorization:""}}).then(r=>{e({auth_settings:r.data})}).catch(()=>{console.error("ERR: Error fetching SSO information")})},status:void 0}),{name:"server-api-state",storage:U(()=>sessionStorage)}));function ne(){return"/api/"}function d(e,r,t){let l=e;if(l.startsWith("/")||(l=ne()+l),l&&r&&(l.indexOf(":id")>=0?l=l.replace(":id",`${r}`):l+=`${r}/`),l&&t)for(const a in t)l=l.replace(`:${a}`,`${t[a]}`);return l}const x={part:{label:()=>s._({id:"vgP+9p"}),label_multiple:()=>s._({id:"pmRbKZ"}),url_overview:"/part/category/index/parts",url_detail:"/part/:pk/",api_endpoint:i.part_list,admin_url:"/part/part/",icon:"part"},partparametertemplate:{label:()=>s._({id:"hAddRl"}),label_multiple:()=>s._({id:"UrnQgP"}),url_overview:"/partparametertemplate",url_detail:"/partparametertemplate/:pk/",api_endpoint:i.part_parameter_template_list,icon:"test_templates"},parttesttemplate:{label:()=>s._({id:"75lDy5"}),label_multiple:()=>s._({id:"KevMsQ"}),url_overview:"/parttesttemplate",url_detail:"/parttesttemplate/:pk/",api_endpoint:i.part_test_template_list,icon:"test"},supplierpart:{label:()=>s._({id:"nne72x"}),label_multiple:()=>s._({id:"FcNRrt"}),url_overview:"/supplierpart",url_detail:"/purchasing/supplier-part/:pk/",api_endpoint:i.supplier_part_list,admin_url:"/company/supplierpart/",icon:"supplier_part"},manufacturerpart:{label:()=>s._({id:"bisS0I"}),label_multiple:()=>s._({id:"d0fBfb"}),url_overview:"/manufacturerpart",url_detail:"/purchasing/manufacturer-part/:pk/",api_endpoint:i.manufacturer_part_list,admin_url:"/company/manufacturerpart/",icon:"manufacturers"},partcategory:{label:()=>s._({id:"QXANxH"}),label_multiple:()=>s._({id:"2GkbLI"}),url_overview:"/part/category/parts/subcategories",url_detail:"/part/category/:pk/",api_endpoint:i.category_list,admin_url:"/part/partcategory/",icon:"category"},stockitem:{label:()=>s._({id:"igx8Og"}),label_multiple:()=>s._({id:"Jbck4N"}),url_overview:"/stock/location/index/stock-items",url_detail:"/stock/item/:pk/",api_endpoint:i.stock_item_list,admin_url:"/stock/stockitem/",icon:"stock"},stocklocation:{label:()=>s._({id:"adXdas"}),label_multiple:()=>s._({id:"1eBWAw"}),url_overview:"/stock/location",url_detail:"/stock/location/:pk/",api_endpoint:i.stock_location_list,admin_url:"/stock/stocklocation/",icon:"location"},stocklocationtype:{label:()=>s._({id:"DjwC2f"}),label_multiple:()=>s._({id:"vkPSyZ"}),api_endpoint:i.stock_location_type_list,icon:"location"},stockhistory:{label:()=>s._({id:"cE4TWF"}),label_multiple:()=>s._({id:"rewkgt"}),api_endpoint:i.stock_tracking_list,icon:"history"},build:{label:()=>s._({id:"iSiFYa"}),label_multiple:()=>s._({id:"3400Lv"}),url_overview:"/manufacturing/index/buildorders/",url_detail:"/manufacturing/build-order/:pk/",api_endpoint:i.build_order_list,admin_url:"/build/build/",icon:"build_order"},buildline:{label:()=>s._({id:"9TLpo1"}),label_multiple:()=>s._({id:"CRYIQ0"}),url_overview:"/build/line",url_detail:"/build/line/:pk/",api_endpoint:i.build_line_list,icon:"build_order"},builditem:{label:()=>s._({id:"LN2ON5"}),label_multiple:()=>s._({id:"A7FuwR"}),api_endpoint:i.build_item_list,icon:"build_order"},company:{label:()=>s._({id:"7i8j3G"}),label_multiple:()=>s._({id:"s2QZS6"}),url_overview:"/company",url_detail:"/company/:pk/",api_endpoint:i.company_list,admin_url:"/company/company/",icon:"building"},projectcode:{label:()=>s._({id:"Sdfr6G"}),label_multiple:()=>s._({id:"AklCpf"}),url_overview:"/project-code",url_detail:"/project-code/:pk/",api_endpoint:i.project_code_list,icon:"list_details"},purchaseorder:{label:()=>s._({id:"KxySMG"}),label_multiple:()=>s._({id:"85Yvr2"}),url_overview:"/purchasing/index/purchaseorders",url_detail:"/purchasing/purchase-order/:pk/",api_endpoint:i.purchase_order_list,admin_url:"/order/purchaseorder/",icon:"purchase_orders"},purchaseorderlineitem:{label:()=>s._({id:"Enr0Pf"}),label_multiple:()=>s._({id:"MXjnQS"}),api_endpoint:i.purchase_order_line_list,icon:"purchase_orders"},salesorder:{label:()=>s._({id:"LozYBo"}),label_multiple:()=>s._({id:"B1TL+X"}),url_overview:"/sales/index/salesorders",url_detail:"/sales/sales-order/:pk/",api_endpoint:i.sales_order_list,admin_url:"/order/salesorder/",icon:"sales_orders"},salesordershipment:{label:()=>s._({id:"qGSobR"}),label_multiple:()=>s._({id:"D/EkfS"}),url_overview:"/sales/shipment/",url_detail:"/sales/shipment/:pk/",api_endpoint:i.sales_order_shipment_list,icon:"sales_orders"},returnorder:{label:()=>s._({id:"Z6ve1w"}),label_multiple:()=>s._({id:"LlTg8M"}),url_overview:"/sales/index/returnorders",url_detail:"/sales/return-order/:pk/",api_endpoint:i.return_order_list,admin_url:"/order/returnorder/",icon:"return_orders"},returnorderlineitem:{label:()=>s._({id:"Frsz7D"}),label_multiple:()=>s._({id:"4dCpFa"}),api_endpoint:i.return_order_line_list,icon:"return_orders"},address:{label:()=>s._({id:"Du6bPw"}),label_multiple:()=>s._({id:"bYmAV1"}),url_overview:"/address",url_detail:"/address/:pk/",api_endpoint:i.address_list,icon:"address"},contact:{label:()=>s._({id:"jfC/xh"}),label_multiple:()=>s._({id:"gVfVfe"}),url_overview:"/contact",url_detail:"/contact/:pk/",api_endpoint:i.contact_list,icon:"group"},owner:{label:()=>s._({id:"LtI9AS"}),label_multiple:()=>s._({id:"CYRJEX"}),url_overview:"/owner",url_detail:"/owner/:pk/",api_endpoint:i.owner_list,icon:"group"},user:{label:()=>s._({id:"7PzzBU"}),label_multiple:()=>s._({id:"Sxm8rQ"}),url_overview:"/user",url_detail:"/user/:pk/",api_endpoint:i.user_list,icon:"user"},group:{label:()=>s._({id:"L8fEEm"}),label_multiple:()=>s._({id:"zhrjek"}),url_overview:"/user/group",url_detail:"/user/group-:pk",api_endpoint:i.group_list,admin_url:"/auth/group/",icon:"group"},importsession:{label:()=>s._({id:"e5WBGh"}),label_multiple:()=>s._({id:"1dn8uK"}),url_overview:"/import",url_detail:"/import/:pk/",api_endpoint:i.import_session_list,icon:"import"},labeltemplate:{label:()=>s._({id:"aKf3M5"}),label_multiple:()=>s._({id:"0qHiFS"}),url_overview:"/labeltemplate",url_detail:"/labeltemplate/:pk/",api_endpoint:i.label_list,icon:"labels"},reporttemplate:{label:()=>s._({id:"F/A+39"}),label_multiple:()=>s._({id:"SX006I"}),url_overview:"/reporttemplate",url_detail:"/reporttemplate/:pk/",api_endpoint:i.report_list,icon:"reports"},pluginconfig:{label:()=>s._({id:"BFm1Jm"}),label_multiple:()=>s._({id:"7ybWp/"}),url_overview:"/pluginconfig",url_detail:"/pluginconfig/:pk/",api_endpoint:i.plugin_list,icon:"plugin"},contenttype:{label:()=>s._({id:"f9cDxV"}),label_multiple:()=>s._({id:"F7Jcuy"}),api_endpoint:i.content_type_list,icon:"list_details"},selectionlist:{label:()=>s._({id:"ifEZiy"}),label_multiple:()=>s._({id:"2q2/qs"}),api_endpoint:i.selectionlist_list,icon:"list_details"},error:{label:()=>s._({id:"SlfejT"}),label_multiple:()=>s._({id:"UirGxE"}),api_endpoint:i.error_report_list,url_overview:"/settings/admin/errors",url_detail:"/settings/admin/errors/:pk/",icon:"exclamation"}};function Pe(e){return{...x[e],label:x[e].label(),label_multiple:x[e].label_multiple()}}function Ue(e,r,t){const l=x[e];if(r==null)return"";if(r&&l&&l.url_detail){const a=l.url_detail.replace(":pk",r.toString()),o=q;return t&&o?`/${o}${a}`:a}return console.error(`No detail URL found for model ${e} <${r}>`),""}function ce(e,r){const{host:t}=y.getState();let l=e;try{r?l=new URL(e,r).toString():t?l=new URL(e,t).toString():l=e.toString()}catch{console.error(`ERR: generateURL failed. url='${e}', base='${r}'`)}return l.toString()}const ue=w()((e,r)=>({hasLoaded:!1,packages:[],packagesMap:{},fetchIcons:async()=>{var l;if(r().hasLoaded)return;const t=await u.get(d(i.icons));await Promise.all(t.data.map(async a=>{if(a.prefix&&a.fonts){const o=`inventree-icon-font-${a.prefix}`,n=Object.entries(a.fonts).map(([_,h])=>`url(${ce(h)}) format("${_}")`).join(`,
`),c=new FontFace(o,`${n};`);return await c.load(),document.fonts.add(c),c}else return console.error("ERR: Icon package is missing 'prefix' or 'fonts' field"),Y({title:s._({id:"SlfejT"}),message:s._({id:"Bjsayx"}),color:"red"}),null})),e({hasLoaded:!0,packages:t.data,packagesMap:Object.fromEntries((l=t.data)==null?void 0:l.map(a=>[a.prefix,a]))})}}));function R(e){if(e===!0)return!0;if(e===!1)return!1;const r=String(e).trim().toLowerCase();return["true","yes","1","on","t","y"].includes(r)}function Oe(e,r){return r.split(".").reduce((l,a)=>l==null?void 0:l[a],e)}function Ve(e){return e=e||"-",e.toLowerCase().replace(/[^a-z0-9]/g,"-")}const _e=w((e,r)=>({settings:[],lookup:{},endpoint:i.settings_global_list,fetchSettings:async()=>{const{isLoggedIn:t}=k.getState();t()&&await u.get(d(i.settings_global_list)).then(l=>{e({settings:l.data,lookup:C(l.data)})}).catch(l=>{console.error("ERR: Error fetching global settings")})},getSetting:(t,l)=>r().lookup[t]??l??"",isSet:(t,l)=>{const a=r().lookup[t]??l??"false";return R(a)}})),de=w((e,r)=>({settings:[],lookup:{},endpoint:i.settings_user_list,fetchSettings:async()=>{const{isLoggedIn:t}=k.getState();t()&&await u.get(d(i.settings_user_list)).then(l=>{e({settings:l.data,lookup:C(l.data)})}).catch(l=>{console.error("ERR: Error fetching user settings")})},getSetting:(t,l)=>r().lookup[t]??l??"",isSet:(t,l)=>{const a=r().lookup[t]??l??"false";return R(a)}})),De=({plugin:e})=>{const r={plugin:e};return O()((t,l)=>({settings:[],lookup:{},endpoint:i.plugin_setting_list,pathParams:r,fetchSettings:async()=>{await u.get(d(i.plugin_setting_list,void 0,{plugin:e})).then(a=>{const o=a.data;t({settings:o,lookup:C(o)})}).catch(a=>{console.error(`Error fetching plugin settings for plugin ${e}`)})},getSetting:(a,o)=>l().lookup[a]??o??"",isSet:(a,o)=>{const n=l().lookup[a]??o??"false";return R(n)}}))},$e=({machine:e,configType:r})=>{const t={machine:e,config_type:r};return O()((l,a)=>({settings:[],lookup:{},endpoint:i.machine_setting_detail,pathParams:t,fetchSettings:async()=>{await u.get(d(i.machine_setting_list,void 0,{machine:e})).then(o=>{const n=o.data.filter(c=>c.config_type===r);l({settings:n,lookup:C(n)})}).catch(o=>{console.error(`Error fetching machine settings for machine ${e} with type ${r}:`,o)})},getSetting:(o,n)=>a().lookup[o]??n??"",isSet:(o,n)=>{const c=a().lookup[o]??n??"false";return R(c)}}))};function C(e){const r={};for(const t of e)r[t.key]=t.value;return r}var b=(e=>(e.part="part",e.supplierpart="supplierpart",e.manufacturerpart="manufacturerpart",e.partcategory="partcategory",e.partparametertemplate="partparametertemplate",e.parttesttemplate="parttesttemplate",e.projectcode="projectcode",e.stockitem="stockitem",e.stocklocation="stocklocation",e.stocklocationtype="stocklocationtype",e.stockhistory="stockhistory",e.build="build",e.buildline="buildline",e.builditem="builditem",e.company="company",e.purchaseorder="purchaseorder",e.purchaseorderlineitem="purchaseorderlineitem",e.salesorder="salesorder",e.salesordershipment="salesordershipment",e.returnorder="returnorder",e.returnorderlineitem="returnorderlineitem",e.importsession="importsession",e.address="address",e.contact="contact",e.owner="owner",e.user="user",e.group="group",e.reporttemplate="reporttemplate",e.labeltemplate="labeltemplate",e.pluginconfig="pluginconfig",e.contenttype="contenttype",e.selectionlist="selectionlist",e.error="error",e))(b||{});const me={BuildStatus:b.build,PurchaseOrderStatus:b.purchaseorder,ReturnOrderStatus:b.returnorder,ReturnOrderLineStatus:b.returnorderlineitem,SalesOrderStatus:b.salesorder,StockHistoryCode:b.stockhistory,StockStatus:b.stockitem,DataImportStatusCode:b.importsession},Fe={dark:"dark",warning:"yellow",success:"green",info:"cyan",danger:"red",primary:"blue",secondary:"gray",default:"gray"},fe=w()(j(e=>({status:void 0,setStatus:r=>e({status:r}),fetchStatus:async()=>{const{isLoggedIn:r}=k.getState();r()&&await u.get(d(i.global_status)).then(t=>{const l={};for(const a in t.data)l[me[a]||a]={status_class:a,values:t.data[a].values};e({status:l})}).catch(()=>{console.error("ERR: Error fetching global status information")})}}),{name:"global-status-state",storage:U(()=>sessionStorage)}));function $(){const{isLoggedIn:e}=k.getState();e()&&(v(),ie.getState().fetchServerApiState(),de.getState().fetchSettings(),_e.getState().fetchSettings(),fe.getState().fetchStatus(),ue.getState().fetchIcons())}function ge({error:e,field:r,defaultMessage:t}){var o,n;const l=((o=e.response)==null?void 0:o.data)??null;let a="";if(l&&(a=l[r??"error"]??l.non_field_errors),!a){const c=((n=e.response)==null?void 0:n.status)??null;if(c)switch(c){case 400:a=s._({id:"UFBeQV"});break;case 401:a=s._({id:"dA/8If"});break;case 403:a=s._({id:"7JBW66"});break;case 404:a=s._({id:"KPx1UV"});break;case 405:a=s._({id:"kfW0Vs"});break;case 500:a=s._({id:"OIYbyY"});break}}return a||(a=t??s._({id:"Vw8l6h"})),a}function Ge(){g.hide("not-implemented"),g.show({title:s._({id:"ipE2p4"}),message:s._({id:"WvSApV"}),color:"red",id:"not-implemented"})}function ze(){g.show({title:s._({id:"JUwB5j"}),message:s._({id:"3WjGlZ"}),color:"red"})}function Be(e){g.show({title:s._({id:"J7PX+R"}),message:s._({id:"78bD8l",values:{returnCode:e}}),color:"red"})}function Te(){g.show({title:s._({id:"xY9s5E"}),message:s._({id:"g/KPkG"}),color:"red"})}function F({title:e,message:r,success:t=!0}){g.hide("login"),g.show({title:e,message:r,color:t?"green":"red",icon:t?m.jsx(J,{}):m.jsx(K,{}),id:"login",autoClose:2500})}function qe({error:e,title:r,message:t,field:l}){const a=ge({error:e,field:l,defaultMessage:t});g.show({title:r,message:a,color:"red"})}function he(e,r){let t=(r==null?void 0:r.redirectUrl)??"/home";r!=null&&r.queryParams&&(t=`${t}?${new URLSearchParams(r.queryParams).toString()}`),e(t)}function pe(e,r,t="post"){var a;const l=document.createElement("form");l.method=t,l.action=e;for(const o in r)if((a=r.hasOwn)!=null&&a.call(r,o)||Object.prototype.hasOwnProperty.call(r,o)){const n=document.createElement("input");n.type="hidden",n.name=o,n.value=r[o],l.appendChild(n)}document.body.appendChild(l),l.submit()}const We=async(e,r)=>{const{host:t}=y.getState(),{clearUserState:l,setToken:a,fetchUserState:o}=k.getState();if(e.length==0||r.length==0)return;N();const n=d(i.user_login);let c=!1;await u.post(n,{username:e,password:r},{baseURL:t}).then(_=>{_.status==200&&_.data.key&&(a(_.data.key),c=!0)}).catch(_=>{var h,L,f;((h=_==null?void 0:_.response)==null?void 0:h.status)==403&&((f=(L=_==null?void 0:_.response)==null?void 0:L.data)==null?void 0:f.detail)=="MFA required for this user"&&pe(d(i.user_login),{username:e,password:r,csrfmiddlewaretoken:G(),mfa:!0})}),c?(await o(),$()):l()},Xe=async e=>{const{clearUserState:r,isLoggedIn:t}=k.getState();(t()||G())&&(await u.post(d(i.user_logout)).catch(()=>{}),F({title:s._({id:"nXipgk"}),message:s._({id:"DMjmJd"})})),r(),N(),e("/login")},Ye=async e=>{const{host:r}=y.getState();return await V.post(d(i.user_simple_login),{email:e},{baseURL:r,timeout:2e3}).then(l=>l.data).catch(l=>!1)};function Je(e,r){u.post(d(i.user_reset),r,{headers:{Authorization:""}}).then(t=>{t.status===200?(g.show({title:s._({id:"XAIcYu"}),message:s._({id:"eX0txO"}),color:"green",autoClose:!1}),e("/login")):g.show({title:s._({id:"WhimMi"}),message:s._({id:"tnaYa/"}),color:"red"})})}const Ke=async(e,r,t)=>{v(),r=="/"&&(r="/home");const{isLoggedIn:l,fetchUserState:a}=k.getState(),o=()=>{F({title:s._({id:"bNsW3s"}),message:s._({id:"IBfR77"})}),$(),he(e,r)},n=()=>{t||e("/login",{state:r})};if(l()){o();return}await a(),l()?o():n()};function G(){var r;return(r=document.cookie.split("; ").find(t=>t.startsWith("csrftoken=")))==null?void 0:r.split("=")[1]}function N(){document.cookie="csrftoken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}const k=w((e,r)=>({user:void 0,token:void 0,setToken:t=>{e({token:t}),v()},clearToken:()=>{e({token:void 0}),v()},userId:()=>r().user.pk,username:()=>{const t=r().user;return t!=null&&t.first_name||t!=null&&t.last_name?`${t.first_name} ${t.last_name}`.trim():(t==null?void 0:t.username)??""},setUser:t=>e({user:t}),clearUserState:()=>{e({user:void 0}),e({token:void 0}),N(),v()},fetchUserToken:async()=>{if(!document.cookie.includes("csrftoken")&&!document.cookie.includes("sessionid")){r().clearToken();return}await u.get(d(i.user_token)).then(t=>{t.status==200&&t.data.token?r().setToken(t.data.token):r().clearToken()}).catch(()=>{r().clearToken()})},fetchUserState:async()=>{if(r().token||await r().fetchUserToken(),!r().token){r().clearUserState();return}await u.get(d(i.user_me),{timeout:2e3}).then(t=>{var l,a;if(t.status==200){const o={pk:t.data.pk,first_name:((l=t.data)==null?void 0:l.first_name)??"",last_name:((a=t.data)==null?void 0:a.last_name)??"",email:t.data.email,username:t.data.username};e({user:o})}else r().clearUserState()}).catch(()=>{r().clearUserState()}),r().isLoggedIn()&&await u.get(d(i.user_roles)).then(t=>{var l,a,o,n;if(t.status==200){const c=r().user;c&&(c.roles=((l=t.data)==null?void 0:l.roles)??{},c.permissions=((a=t.data)==null?void 0:a.permissions)??{},c.is_staff=((o=t.data)==null?void 0:o.is_staff)??!1,c.is_superuser=((n=t.data)==null?void 0:n.is_superuser)??!1,e({user:c}))}else r().clearUserState()}).catch(t=>{console.error("ERR: Error fetching user roles"),r().clearUserState()})},isLoggedIn:()=>{if(!r().token)return!1;const t=r().user;return!!t&&!!t.pk},isStaff:()=>{const t=r().user;return(t==null?void 0:t.is_staff)??!1},isSuperuser:()=>{const t=r().user;return(t==null?void 0:t.is_superuser)??!1},checkUserRole:(t,l)=>{var o;const a=r().user;return a?a!=null&&a.is_superuser?!0:(a==null?void 0:a.roles)===void 0||(a==null?void 0:a.roles[t])===void 0||(a==null?void 0:a.roles[t])===null?!1:((o=a==null?void 0:a.roles[t])==null?void 0:o.includes(l))??!1:!1},hasDeleteRole:t=>r().checkUserRole(t,p.delete),hasChangeRole:t=>r().checkUserRole(t,p.change),hasAddRole:t=>r().checkUserRole(t,p.add),hasViewRole:t=>r().checkUserRole(t,p.view),checkUserPermission:(t,l)=>{var o;const a=r().user;return a?a!=null&&a.is_superuser?!0:(a==null?void 0:a.permissions)===void 0||(a==null?void 0:a.permissions[t])===void 0||(a==null?void 0:a.permissions[t])===null?!1:((o=a==null?void 0:a.permissions[t])==null?void 0:o.includes(l))??!1:!1},hasDeletePermission:t=>r().checkUserPermission(t,p.delete),hasChangePermission:t=>r().checkUserPermission(t,p.change),hasAddPermission:t=>r().checkUserPermission(t,p.add),hasViewPermission:t=>r().checkUserPermission(t,p.view)})),u=V.create({});function v(){const{host:e}=y.getState(),{token:r}=k.getState();u.defaults.baseURL=e,u.defaults.timeout=2500,u.defaults.withCredentials=!0,u.defaults.withXSRFToken=!0,u.defaults.xsrfCookieName="csrftoken",u.defaults.xsrfHeaderName="X-CSRFToken",r?u.defaults.headers.Authorization=`Token ${r}`:delete u.defaults.headers.Authorization}const Qe=new Q({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),be="modulepreload",ke=function(e){return"/"+e},P={},z=function(r,t,l){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),c=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));a=Promise.allSettled(t.map(_=>{if(_=ke(_),_ in P)return;P[_]=!0;const h=_.endsWith(".css"),L=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${L}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":be,h||(f.as="script"),f.crossOrigin="",f.href=_,c&&f.setAttribute("nonce",c),document.head.appendChild(f),h)return new Promise((W,X)=>{f.addEventListener("load",W),f.addEventListener("error",()=>X(new Error(`Unable to preload CSS for ${_}`)))})}))}function o(n){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=n,window.dispatchEvent(c),!c.defaultPrevented)throw n}return a.then(n=>{for(const c of n||[])c.status==="rejected"&&o(c.reason);return r().catch(o)})};function we({key:e="mantine-color-scheme"}={}){let r;return{get:t=>{if(typeof window>"u")return t;try{return window.localStorage.getItem(e)||t}catch{return t}},set:t=>{try{window.localStorage.setItem(e,t)}catch(l){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",l)}},subscribe:t=>{r=l=>{l.storageArea===window.localStorage&&l.key===e&&H(l.newValue)&&t(l.newValue)},window.addEventListener("storage",r)},unsubscribe:()=>{window.removeEventListener("storage",r)},clear:()=>{window.localStorage.removeItem(e)}}}const Se=we({key:"scheme"}),B=M({}),He=Z(B);function ve(){return m.jsx(E,{theme:B,colorSchemeManager:Se,children:m.jsx(A,{children:m.jsx(ee,{children:m.jsx(te,{})})})})}const T=e=>r=>m.jsx(I.Suspense,{fallback:m.jsx(ve,{}),children:m.jsx(e,{...r})});function ye(){const{height:e,width:r}=re();return r<425||e<425}const Le=T(I.lazy(()=>z(()=>import("./MobileAppView-CiAY77Xs.js"),__vite__mapDeps([0,1,2,3,4])))),xe=T(I.lazy(()=>z(()=>import("./DesktopAppView-CAvOv5f4.js").then(e=>e.D),__vite__mapDeps([5,1,2,3]))));function Ie(){const[e]=y(r=>[r.allowMobile]);return I.useEffect(()=>{v()},[]),!e&&ye()?m.jsx(Le,{}):m.jsx(xe,{})}const Ze=!1,Re=!1,Ce=Re,S=window.INVENTREE_SETTINGS||{};Object.keys(S).forEach(e=>{(S[e]===void 0||e==="server_list"&&S[e].length===0)&&delete S[e]});window.INVENTREE_SETTINGS={server_list:{"mantine-cqj63coxn":{host:`${window.location.origin}/`,name:"Current Server"}},default_server:"mantine-cqj63coxn",show_server_selector:Ce,...S};window.INVENTREE_SETTINGS.sentry_dsn&&(console.log("Sentry enabled"),ae({dsn:window.INVENTREE_SETTINGS.sentry_dsn,tracesSampleRate:1,environment:window.INVENTREE_SETTINGS.environment||"default"}));const q=window.INVENTREE_SETTINGS.base_url||"platform";le.createRoot(document.getElementById("root")).render(m.jsx(D.StrictMode,{children:m.jsx(Ie,{})}));window.location.pathname==="/"&&window.location.replace(`/${q}`);window.React=D;window.InvenTreeAPI=u;export{i as A,R as B,Te as C,Ge as D,De as E,$e as F,We as G,F as H,Ze as I,he as J,Ye as K,T as L,x as M,Ke as N,v as O,Je as P,Ne as S,se as U,z as _,k as a,q as b,ie as c,u as d,d as e,Ue as f,ce as g,ge as h,$ as i,Se as j,Xe as k,_e as l,b as m,de as n,Pe as o,fe as p,Qe as q,Oe as r,Fe as s,ue as t,y as u,He as v,Ve as w,qe as x,Be as y,ze as z};
