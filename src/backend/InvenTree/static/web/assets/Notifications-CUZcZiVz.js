import{r as c,i as t,j as e,ev as h,I as j,ew as k,cr as C,bi as T,az as f,S as I}from"./vendor-BnaqX2_l.js";import{e as s,A as r,d as n}from"./index-fPzgLVil.js";import{c as u}from"./UseForm-DwZIxEnj.js";import{P}from"./PageDetail-Ct_zKLxm.js";import{P as g}from"./PanelGroup-CKTRVRga.js";import{I as A,u as _}from"./InvenTreeTable-rEa-i3pt.js";import{F as M}from"./BaseContext-CH9A7-TB.js";import"./dayjs.min-DlCiWWGX.js";import"./ApiIcon-Bqf-O7I2.js";import"./Instance-DrUTN1gu.js";import"./navigation-B-mN4luC.js";import"./PageTitle-AnZP781e.js";import"./RemoteComponent-Who-27QQ.js";import"./DesktopAppView-CAvOv5f4.js";import"./ActionDropdown-D1A3arjv.js";function b({params:a,tableState:o,tableActions:p,actions:d}){const m=c.useMemo(()=>[{accessor:"age_human",title:t._({id:"RCU5PY"}),sortable:!0,ordering:"creation"},{accessor:"category",title:t._({id:"K7tIrx"}),sortable:!0},{accessor:"name",title:t._({id:"5+87Pq"})},{accessor:"message",title:t._({id:"xDAtGP"})}],[]);return e.jsx(A,{url:s(r.notifications_list),tableState:o,columns:m,props:{rowActions:d,tableActions:p,enableSelection:!0,params:a}})}function q(){const a=_("unreadnotifications"),o=_("readnotifications"),p=c.useCallback(()=>{n.get(s(r.notifications_readall),{params:{read:!1}}).then(i=>{a.refreshTable(),o.refreshTable()}).catch(i=>{})},[]),d=c.useCallback(()=>{M.openConfirmModal({title:t._({id:"Zez9Ff"}),onConfirm:()=>{n.delete(s(r.notifications_list),{data:{filters:{read:!0}}}).then(i=>{o.refreshTable()}).catch(i=>{})}})},[]),m=c.useMemo(()=>[{name:"unread",label:t._({id:"iDNBZe"}),icon:e.jsx(h,{size:"18"}),content:e.jsx(b,{params:{read:!1},tableState:a,actions:i=>[{title:t._({id:"+s1J8k"}),color:"green",icon:e.jsx(j,{}),onClick:()=>{const l=s(r.notifications_list,i.pk);n.patch(l,{read:!0}).then(x=>{a.refreshTable()})}}],tableActions:[e.jsx(u,{icon:e.jsx(k,{}),tooltip:t._({id:"onllUU"}),onClick:p})]})},{name:"history",label:t._({id:"0caMy7"}),icon:e.jsx(C,{size:"18"}),content:e.jsx(b,{params:{read:!0},tableState:o,actions:i=>[{title:t._({id:"5GPcf9"}),icon:e.jsx(T,{}),onClick:()=>{const l=s(r.notifications_list,i.pk);n.patch(l,{read:!1}).then(x=>{o.refreshTable()})}},{title:t._({id:"cnGeoo"}),color:"red",icon:e.jsx(f,{}),onClick:()=>{n.delete(s(r.notifications_list,i.pk)).then(l=>{o.refreshTable()})}}],tableActions:[e.jsx(u,{color:"red",icon:e.jsx(f,{}),tooltip:t._({id:"j3/C3X"}),onClick:d})]})}],[a,o]);return e.jsxs(I,{children:[e.jsx(P,{title:t._({id:"iDNBZe"})}),e.jsx(g,{pageKey:"notifications",panels:m})]})}export{q as default};
