import{r as o,j as e,S as d,i as r,bB as i,s as _,fe as b}from"./vendor-BnaqX2_l.js";import{d as h,e as c,A as n,x as j}from"./index-fPzgLVil.js";import{c as C}from"./UseForm-DwZIxEnj.js";import{F as y}from"./FactCollection-VBjT9qTl.js";import{G as A}from"./SettingList-CWkD4zaU.js";import{u as E,I as R}from"./InvenTreeTable-rEa-i3pt.js";import"./BaseContext-CH9A7-TB.js";import"./dayjs.min-DlCiWWGX.js";import"./ApiIcon-Bqf-O7I2.js";import"./Instance-DrUTN1gu.js";import"./navigation-B-mN4luC.js";import"./DesktopAppView-CAvOv5f4.js";import"./ActionDropdown-D1A3arjv.js";function T({setInfo:t}){const s=E("currency","currency"),l=o.useMemo(()=>[{accessor:"currency",title:r._({id:"Q2lUR2"}),switchable:!1},{accessor:"rate",title:r._({id:"fqDzSu"}),switchable:!1}],[]),u=o.useCallback(()=>{h.post(c(n.currency_refresh),{}).then(()=>{s.refreshTable(),_({message:r._({id:"aQFOy1"}),color:"green"})}).catch(a=>{j({error:a,title:r._({id:"OZSHCs"})})})},[]),m=o.useMemo(()=>[e.jsx(C,{onClick:u,tooltip:r._({id:"HQlD/8"}),icon:e.jsx(b,{})},"refresh")],[]);return e.jsx(R,{url:c(n.currency_list),tableState:s,columns:l,props:{tableActions:m,dataFormatter:a=>{t(a);const p=a.exchange_rates??{};return Object.entries(p).map(([f,x])=>({currency:f,rate:x}))}}})}function L(){const[t,s]=o.useState({});return e.jsxs(d,{gap:"xs",children:[e.jsx(y,{items:[{title:r._({id:"h+ZkcR"}),value:t==null?void 0:t.updated},{title:r._({id:"3pmGAW"}),value:t==null?void 0:t.base_currency}]}),e.jsx(i,{}),e.jsx(T,{setInfo:s}),e.jsx(i,{}),e.jsx(A,{keys:["CURRENCY_UPDATE_PLUGIN","CURRENCY_UPDATE_INTERVAL"]})]})}export{T as CurrencyTable,L as default};
