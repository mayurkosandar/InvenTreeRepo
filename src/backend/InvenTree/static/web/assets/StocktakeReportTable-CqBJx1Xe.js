import{r,i as e,j as o}from"./vendor-BnaqX2_l.js";import{b as k,u as _,A as f}from"./UseForm-DwZIxEnj.js";import{A as b}from"./AttachmentLink-BJMgqQK8.js";import{d as A}from"./Instance-DrUTN1gu.js";import{A as s,e as x}from"./index-fPzgLVil.js";import{g as R}from"./PartForms-CscLTjK3.js";import{u as g,a as C,I as S}from"./InvenTreeTable-rEa-i3pt.js";import{i as j}from"./ColumnRenderers-6jyK6a0i.js";import"./BaseContext-CH9A7-TB.js";import"./dayjs.min-DlCiWWGX.js";import"./ApiIcon-Bqf-O7I2.js";import"./navigation-B-mN4luC.js";import"./DesktopAppView-CAvOv5f4.js";import"./ActionDropdown-D1A3arjv.js";import"./YesNoButton-W51do83Q.js";import"./formatters-DBeaC9UC.js";function q(){const a=g("stocktake-report"),n=r.useMemo(()=>[{accessor:"report",title:e._({id:"gjpdaf"}),sortable:!1,switchable:!1,render:t=>o.jsx(b,{attachment:t.report}),noContext:!0},{accessor:"part_count",title:e._({id:"aCQiIS"}),sortable:!1},j({accessor:"date",title:e._({id:"mYGY3B"})}),{accessor:"user",title:e._({id:"7PzzBU"}),sortable:!1,render:t=>A({instance:t.user_detail})}],[]),[p,c]=r.useState(void 0),i=k({url:s.part_stocktake_report_list,pk:p,title:e._({id:"MlrelG"}),onFormSuccess:()=>a.refreshTable()}),m=r.useMemo(()=>R(),[]),l=_({url:s.part_stocktake_report_generate,title:e._({id:"A6QWA5"}),fields:m,successMessage:e._({id:"s3ikt8"})}),d=r.useMemo(()=>[o.jsx(f,{tooltip:e._({id:"zPIKqz"}),onClick:()=>l.open()})],[]),u=r.useCallback(t=>[C({onClick:()=>{c(t.pk),i.open()}})],[]);return o.jsxs(o.Fragment,{children:[l.modal,i.modal,o.jsx(S,{url:x(s.part_stocktake_report_list),tableState:a,columns:n,props:{enableSearch:!1,rowActions:u,tableActions:d}})]})}export{q as default};
