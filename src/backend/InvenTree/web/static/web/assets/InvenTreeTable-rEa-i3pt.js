import{b$ as no,r as i,j as t,dC as oo,K as B,c9 as ae,dD as pe,dE as Pe,cw as $e,dF as ao,dh as Et,dG as It,dH as zt,S as ke,G as ce,B as ye,m as se,dI as lo,dJ as rt,dK as ro,bD as so,C as je,F as io,c4 as Lt,O as co,cq as uo,bz as ie,L as ho,ch as Y,dL as go,v as He,dM as mo,dN as po,c3 as fo,bM as _e,ce as xo,W as bo,dO as dt,dP as Co,U as Rt,x as wo,by as fe,bA as st,i as g,n as St,ba as vo,dQ as jo,dR as ko,dS as yo,dT as To,dU as Ro,dV as So,dW as Mo,cp as Ao,bB as Bt,J as _o,bC as Po,dg as Vt,bO as Wt,bT as Dt,aM as Fo,ct as No,cu as Eo,bG as Mt,cd as Io,az as Ht,bE as zo,ax as Lo,cy as Bo,dX as Vo,cs as Wo,aN as Do,ac as Ho,aD as Oo,b9 as $o,s as Ko}from"./vendor-BnaqX2_l.js";import{u as qo}from"./DesktopAppView-CAvOv5f4.js";import{S as Uo,r as it,d as Qo,H as Yo}from"./BaseContext-CH9A7-TB.js";import{n as Go,l as Xo,e as ot,A as at,g as At,d as Oe,p as Jo,f as Ot,u as Zo,r as ea}from"./index-fPzgLVil.js";import{n as $t,c as ct}from"./navigation-B-mN4luC.js";import{u as _t,e as Kt,D as ta,b as na,c as oa,m as aa}from"./UseForm-DwZIxEnj.js";import{A as qt}from"./ActionDropdown-D1A3arjv.js";import{d as la}from"./dayjs.min-DlCiWWGX.js";var[ra,ut]=no("useDataTableColumnsContext must be used within DataTableColumnProvider"),Pt=n=>{let{children:e,columnsOrder:o,setColumnsOrder:l,columnsToggle:a,setColumnsToggle:s,resetColumnsOrder:r,resetColumnsToggle:h,setColumnWidth:d,resetColumnsWidth:c}=n,[p,b]=i.useState(""),[m,w]=i.useState("");return t.jsx(ra,{value:{sourceColumn:p,setSourceColumn:b,targetColumn:m,setTargetColumn:w,columnsToggle:a,setColumnsToggle:s,swapColumns:()=>{if(!o||!l||!p||!m)return;let j=o.indexOf(p),T=o.indexOf(m);if(j!==-1&&T!==-1){let u=o.splice(j,1)[0];o.splice(T,0,u),l([...o])}},resetColumnsOrder:r,resetColumnsToggle:h,setColumnWidth:d,resetColumnsWidth:c},children:e})};function sa(){return t.jsx("tr",{className:"mantine-datatable-empty-row",children:t.jsx("td",{})})}function ia(){return t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M12.983 8.978c3.955 -.182 7.017 -1.446 7.017 -2.978c0 -1.657 -3.582 -3 -8 -3c-1.661 0 -3.204 .19 -4.483 .515m-2.783 1.228c-.471 .382 -.734 .808 -.734 1.257c0 1.22 1.944 2.271 4.734 2.74"}),t.jsx("path",{d:"M4 6v6c0 1.657 3.582 3 8 3c.986 0 1.93 -.067 2.802 -.19m3.187 -.82c1.251 -.53 2.011 -1.228 2.011 -1.99v-6"}),t.jsx("path",{d:"M4 12v6c0 1.657 3.582 3 8 3c3.217 0 5.991 -.712 7.261 -1.74m.739 -3.26v-4"}),t.jsx("path",{d:"M3 3l18 18"})]})}function ca({icon:n,text:e,pt:o,pb:l,active:a,children:s}){return t.jsx(je,{pt:o,pb:l,className:"mantine-datatable-empty-state","data-active":a||void 0,children:s||t.jsxs(t.Fragment,{children:[n||t.jsx("div",{className:"mantine-datatable-empty-state-icon",children:t.jsx(ia,{})}),t.jsx(se,{component:"div",size:"sm",c:"dimmed",children:e})]})})}var da=({key:n,columns:e=[],getInitialValueInEffect:o=!0})=>{function l(x,y){let v=[];return x.forEach(k=>{y.find(A=>A.accessor===k)&&v.push(k)}),y.forEach(k=>{v.includes(k.accessor)||v.push(k.accessor)}),v}function a(x,y){let v=[];return x.forEach(k=>{y.find(A=>A.accessor===k.accessor)&&v.push(k)}),y.forEach(k=>{v.find(A=>A.accessor===k.accessor)||v.push({accessor:k.accessor,defaultToggle:k.defaultToggle||!0,toggleable:k.toggleable,toggled:k.defaultToggle===void 0?!0:k.defaultToggle})}),v}function s(x,y){let v=[];return x.forEach(k=>{let A=Object.keys(k)[0];y.find(E=>E.accessor===A)&&v.push(k)}),y.forEach(k=>{let A=k.accessor;if(!v.find(E=>Object.keys(E)[0]===A)){let E={};E[A]="",v.push(E)}}),v}function r(){let[x,y]=_e({key:n?`${n}-columns-order`:"",defaultValue:n?c:void 0,getInitialValueInEffect:o});function v(E){n&&y(E)}if(!n)return[x,v];let k=l(x,e),A=JSON.stringify(x);return JSON.stringify(k)!==A&&v(k),[k,v]}function h(){let[x,y]=_e({key:n?`${n}-columns-toggle`:"",defaultValue:n?b:void 0,getInitialValueInEffect:o});function v(E){n&&y(E)}if(!n)return[x,v];let k=a(x,e),A=JSON.stringify(x);return JSON.stringify(k)!==A&&v(k),[a(x,e),v]}function d(){let[x,y]=_e({key:n?`${n}-columns-width`:"",defaultValue:n?p:void 0,getInitialValueInEffect:o});function v(E){n&&y(E)}if(!n)return[x,v];let k=s(x,e),A=JSON.stringify(x);return JSON.stringify(k)!==A&&v(k),[s(x,e),v]}let c=e&&e.map(x=>x.accessor)||[],p=e&&e.map(x=>({[x.accessor]:x.width??"initial"}))||[],b=e&&e.map(x=>({accessor:x.accessor,defaultToggle:x.defaultToggle||!0,toggleable:x.toggleable,toggled:x.defaultToggle===void 0?!0:x.defaultToggle})),[m,w]=r(),[j,T]=h(),[u,R]=d(),M=()=>w(c),N=()=>{T(b)},I=()=>R(p);return{effectiveColumns:i.useMemo(()=>m?m.map(x=>e.find(y=>y.accessor===x)).map(x=>{var y;return{...x,hidden:(x==null?void 0:x.hidden)||!((y=j.find(v=>v.accessor===(x==null?void 0:x.accessor)))!=null&&y.toggled)}}).map(x=>{var y;return{...x,width:(y=u.find(v=>v[x==null?void 0:x.accessor]))==null?void 0:y[x==null?void 0:x.accessor]}}):e,[e,m,j,u]),setColumnsOrder:w,columnsOrder:m,resetColumnsOrder:M,columnsToggle:j,setColumnsToggle:T,resetColumnsToggle:N,columnsWidth:u,setColumnsWidth:R,setColumnWidth:(x,y)=>{let v=u.map(k=>k[x]?{[x]:y}:k);R(v)},resetColumnsWidth:I}};function ve(){var l;let[n]=io(),{width:e,height:o}=((l=n.current)==null?void 0:l.getBoundingClientRect())||{width:0,height:0};return{ref:n,width:e,height:o}}var ua=typeof window<"u"?i.useLayoutEffect:i.useEffect;function ha(n){let[e,o]=i.useState(null),l=(n==null?void 0:n.join(":"))||"";return i.useEffect(()=>{o(null)},[l]),{lastSelectionChangeIndex:e,setLastSelectionChangeIndex:o}}function ga(n,e){let o=()=>{e(n.map(a=>a.matches))},l=n.map(a=>{try{return a.addEventListener("change",o),()=>a.removeEventListener("change",o)}catch{return a.addListener(o),()=>a.removeListener(o)}});return()=>{l.forEach(a=>a())}}function ma(n,e){return e||(typeof window<"u"&&"matchMedia"in window?n.map(o=>window.matchMedia(o).matches):n.map(()=>!1))}function pa(n,e,{getInitialValueInEffect:o}={getInitialValueInEffect:!0}){let[l,a]=i.useState(o?e:ma(n,e)),s=i.useRef();return i.useEffect(()=>{if("matchMedia"in window)return s.current=n.map(r=>window.matchMedia(r)),a(s.current.map(r=>r.matches)),ga(s.current,r=>{a(r)})},[n]),l}function fa(n){let e=Lt(),o=i.useMemo(()=>n.map(a=>(typeof a=="function"?a(e):a)??""),[n,e]),l=i.useMemo(()=>n.map(()=>!0),[n]);return pa(o,l)}function Ke(n){let e=Lt(),o=typeof n=="function"?n(e):n;return co(o||"",!0)}function ht(n){let e=n.replace(/([a-z\d])([A-Z]+)/g,"$1 $2").replace(/\W|_/g," ").trim().toLowerCase();return`${e.charAt(0).toUpperCase()}${e.slice(1)}`}function xa(n,e,o){return n.filter(l=>!e.map(o).includes(o(l)))}function lt(n,e){return n.filter((o,l,a)=>l===a.findIndex(s=>e(o)===e(s)))}function Ut(n,e){return e?e.match(/([^[.\]])+/g).reduce((o,l)=>o&&o[l],n):void 0}function Q(n,e){return typeof e=="string"?Ut(n,e):e(n)}function ba({rowExpansion:n,records:e,idAccessor:o}){let l=[];if(n&&e){let{trigger:h,allowMultiple:d,initiallyExpanded:c}=n;e&&h==="always"?l=e.map(p=>Q(p,o)):c&&(l=e.filter((p,b)=>c({record:p,index:b})).map(p=>Q(p,o)),d||(l=[l[0]]))}let a,s,r=i.useState(l);if(n){let{expandable:h,trigger:d,allowMultiple:c,collapseProps:p,content:b}=n;n.expanded?{recordIds:a,onRecordIdsChange:s}=n.expanded:[a,s]=r;let m=w=>s==null?void 0:s(a.filter(j=>j!==Q(w,o)));return{expandOnClick:d!=="always"&&d!=="never",isRowExpanded:w=>d==="always"?!0:a.includes(Q(w,o)),isExpandable:({record:w,index:j})=>h?h({record:w,index:j}):!0,expandRow:w=>{let j=Q(w,o);s==null||s(c?[...a,j]:[j])},collapseRow:m,collapseProps:p,content:({record:w,index:j})=>()=>b({record:w,index:j,collapse:()=>m(w)})}}}function Ca(n,e){let[o,l]=i.useState(n),[a,s]=i.useState(n),r=Rt(()=>l(!0),0),h=Rt(()=>s(!1),e||200);return i.useEffect(()=>{n?(h.clear(),s(!0),r.start()):(r.clear(),l(!1),h.start())},[r,h,n]),{expanded:o,visible:a}}var gt="mantine-datatable-nowrap",mt="mantine-datatable-ellipsis",Te="mantine-datatable-pointer-cursor",Qt="mantine-datatable-context-menu-cursor",wa="mantine-datatable-text-selection-disabled",qe="mantine-datatable-text-align-left",Ue="mantine-datatable-text-align-center",Qe="mantine-datatable-text-align-right";function va({className:n,style:e,visibleMediaQuery:o,title:l,noWrap:a,ellipsis:s,textAlign:r,width:h}){return Ke(o)?t.jsx(Pe,{className:B({[gt]:a||s,[mt]:s,[qe]:r==="left",[Ue]:r==="center",[Qe]:r==="right"},n),style:[{width:h,minWidth:h,maxWidth:h},e],children:l}):null}function ja({shadowVisible:n}){return t.jsx(Pe,{className:"mantine-datatable-footer-selector-placeholder-cell","data-shadow-visible":n||void 0})}var ka=i.forwardRef(function({className:n,style:e,columns:o,defaultColumnProps:l,selectionVisible:a,selectorCellShadowVisible:s,scrollDiff:r},h){let d=r<0;return t.jsx(oo,{ref:h,className:B("mantine-datatable-footer",n),style:[{position:d?"relative":"sticky",bottom:ae(d?r:0)},e],children:t.jsxs(pe,{children:[a&&t.jsx(ja,{shadowVisible:s}),o.map(({hidden:c,...p})=>{if(c)return null;let{accessor:b,visibleMediaQuery:m,textAlign:w,width:j,footer:T,footerClassName:u,footerStyle:R,noWrap:M,ellipsis:N}={...l,...p};return t.jsx(va,{className:u,style:R,visibleMediaQuery:m,textAlign:w,width:j,title:T,noWrap:M,ellipsis:N},b)})]})})});function ya({group:{id:n,columns:e,title:o,textAlign:l,className:a,style:s}}){let r=i.useMemo(()=>e.map(({visibleMediaQuery:c})=>c),[e]),h=fa(r),d=i.useMemo(()=>e.filter(({hidden:c},p)=>!c&&(h==null?void 0:h[p])).length,[e,h]);return d>0?t.jsx(Pe,{colSpan:d,className:B("mantine-datatable-column-group-header-cell",{[qe]:l==="left",[Ue]:l==="center",[Qe]:l==="right"},a),style:s,children:o??ht(n)}):null}function Ta(){return t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"})]})}function Ra(){return t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M20 3h-16a1 1 0 0 0 -1 1v2.227l.008 .223a3 3 0 0 0 .772 1.795l4.22 4.641v8.114a1 1 0 0 0 1.316 .949l6 -2l.108 -.043a1 1 0 0 0 .576 -.906v-6.586l4.121 -4.12a3 3 0 0 0 .879 -2.123v-2.171a1 1 0 0 0 -1 -1z",strokeWidth:"0",fill:"currentColor"})]})}function Sa({children:n,isActive:e}){let[o,{close:l,toggle:a}]=xo(!1);return t.jsxs(Et,{withArrow:!0,withinPortal:!0,shadow:"md",opened:o,onClose:l,trapFocus:!0,children:[t.jsx(It,{children:t.jsx(ie,{className:"mantine-datatable-header-cell-filter-action-icon","data-active":e||void 0,size:"sm",variant:"default",onClick:s=>{s.preventDefault(),a()},children:t.jsx(e?Ra:Ta,{})})}),t.jsx(zt,{onClick:s=>s.stopPropagation(),children:typeof n=="function"?n({close:l}):n})]})}var Ma=n=>{let{accessor:e,columnRef:o}=n,l=i.useRef(null),[a,s]=i.useState(0),{setColumnWidth:r}=ut(),h=p=>{p.preventDefault(),p.stopPropagation(),document.addEventListener("mousemove",d),document.addEventListener("mouseup",c),document.body.style.cursor="col-resize"},d=p=>{if(!o.current)return;let b=p.clientX-o.current.getBoundingClientRect().right,m=`${o.current.getBoundingClientRect().width+b}px`;o.current.style.width=m,r(e,o.current.style.width),s(-b)},c=()=>{o.current&&(document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",c),document.body.style.cursor="initial",r(e,o.current.style.width),s(0))};return t.jsx("div",{ref:l,onClick:p=>p.stopPropagation(),onMouseDown:h,onDoubleClick:()=>{o.current&&(o.current.style.maxWidth="initial",o.current.style.minWidth="initial",o.current.style.width="initial",r(e,"initial"))},className:"mantine-datatable-header-resizable-handle",style:{right:ae(a)}})};function Aa(){return t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M12 5l0 14"}),t.jsx("path",{d:"M16 9l-4 -4"}),t.jsx("path",{d:"M8 9l4 -4"})]})}function _a(){return t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M8 7l4 -4l4 4"}),t.jsx("path",{d:"M8 17l4 4l4 -4"}),t.jsx("path",{d:"M12 3l0 18"})]})}function Pa(){return t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),t.jsx("path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),t.jsx("path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),t.jsx("path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),t.jsx("path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),t.jsx("path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"})]})}function Fa(){return t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M18 6l-12 12"}),t.jsx("path",{d:"M6 6l12 12"})]})}function Na({className:n,style:e,accessor:o,visibleMediaQuery:l,title:a,sortable:s,draggable:r,toggleable:h,resizable:d,sortIcons:c,textAlign:p,width:b,sortStatus:m,onSortStatusChange:w,filter:j,filtering:T,sortKey:u}){let{setSourceColumn:R,setTargetColumn:M,swapColumns:N,setColumnsToggle:I}=ut(),[x,y]=i.useState(!1),v=i.useRef(null);if(!Ke(l))return null;let k=a??ht(o),A=typeof k=="string"?k:void 0,E=s&&w?z=>{z!=null&&z.defaultPrevented||w({sortKey:u,columnAccessor:o,direction:(m==null?void 0:m.columnAccessor)===o?m.direction==="asc"?"desc":"asc":(m==null?void 0:m.direction)??"asc"})}:void 0,_=z=>{z.stopPropagation(),R(o),y(!1)},D=z=>{z.preventDefault(),M(o),y(!0)},$=()=>{M(o),y(!1),N()},H=()=>{y(!0)},O=()=>{y(!1)},X=z=>{z.stopPropagation(),I(J=>J.map(V=>V.accessor===o?{...V,toggled:!1}:V))};return t.jsxs(Pe,{className:B({"mantine-datatable-header-cell-sortable":s,"mantine-datatable-header-cell-toggleable":h,"mantine-datatable-header-cell-resizable":d},n),style:[{width:b,...d?{minWidth:"1px"}:{minWidth:b,maxWidth:b}},e],role:s?"button":void 0,tabIndex:s?0:void 0,onClick:E,onKeyDown:z=>z.key==="Enter"&&(E==null?void 0:E()),ref:v,children:[t.jsxs(ce,{className:"mantine-datatable-header-cell-sortable-group",justify:"space-between",wrap:"nowrap",children:[t.jsxs(uo,{align:"center",w:"100%",className:B({"mantine-datatable-header-cell-draggable":r,"mantine-datatable-header-cell-drag-over":x}),draggable:r,onDragStart:r?_:void 0,onDragEnter:r?H:void 0,onDragOver:r?D:void 0,onDrop:r?$:void 0,onDragLeave:r?O:void 0,children:[r?t.jsx(je,{role:"img","aria-label":"Drag column",children:t.jsx(ie,{className:"mantine-datatable-header-cell-draggable-action-icon",variant:"subtle",size:"xs",onClick:z=>{z.stopPropagation()},children:t.jsx(Pa,{})})}):null,t.jsx(ye,{className:B("mantine-datatable-header-cell-sortable-text",{[qe]:p==="left",[Ue]:p==="center",[Qe]:p==="right"},gt,mt),title:A,children:k})]}),h?t.jsx(je,{className:"mantine-datatable-header-cell-toggleable-icon",role:"img","aria-label":"Toggle column",children:t.jsx(ie,{size:"xs",variant:"light",onClick:X,children:t.jsx(Fa,{})})}):null,s||(m==null?void 0:m.columnAccessor)===o?t.jsx(t.Fragment,{children:(m==null?void 0:m.columnAccessor)===o?t.jsx(je,{className:B("mantine-datatable-header-cell-sortable-icon",{"mantine-datatable-header-cell-sortable-icon-reversed":m.direction==="desc"}),role:"img","aria-label":`Sorted ${m.direction==="desc"?"descending":"ascending"}`,children:(c==null?void 0:c.sorted)||t.jsx(Aa,{})}):t.jsx(je,{className:"mantine-datatable-header-cell-sortable-unsorted-icon",role:"img","aria-label":"Not sorted",children:(c==null?void 0:c.unsorted)||t.jsx(_a,{})})}):null,j?t.jsx(Sa,{isActive:!!T,children:j}):null]}),d?t.jsx(Ma,{accessor:o,columnRef:v}):null]})}var Ea=i.forwardRef(function({className:n,style:e,trigger:o,shadowVisible:l,checked:a,indeterminate:s,checkboxProps:r,onChange:h,rowSpan:d},c){let p=!r.disabled;return t.jsx(Pe,{ref:c,className:B("mantine-datatable-header-selector-cell",{[Te]:o==="cell"&&p},n),style:e,rowSpan:d,"data-shadow-visible":l||void 0,onClick:o==="cell"&&p?h:void 0,children:t.jsx($e,{classNames:p?{input:Te}:void 0,checked:a,indeterminate:s,onChange:h,...r,disabled:!(h||r.onChange)||r.disabled})})}),Ia=i.forwardRef(function({selectionColumnHeaderRef:n,className:e,style:o,sortStatus:l,sortIcons:a,onSortStatusChange:s,columns:r,defaultColumnProps:h,groups:d,selectionTrigger:c,selectionVisible:p,selectionChecked:b,selectionIndeterminate:m,onSelectionChange:w,selectionCheckboxProps:j,selectorCellShadowVisible:T,selectionColumnClassName:u,selectionColumnStyle:R},M){let N=p?t.jsx(Ea,{ref:n,className:u,style:R,trigger:c,shadowVisible:T,checked:b,indeterminate:m,checkboxProps:j,onChange:w,rowSpan:d?2:void 0}):null,{columnsToggle:I,setColumnsToggle:x}=ut(),[y,v]=i.useState(!1),k=r.some(_=>_.toggleable),A=k?Object.fromEntries(r.map(({accessor:_,title:D})=>[_,D??ht(String(_))])):void 0,E=t.jsxs(ao,{className:B("mantine-datatable-header",e),style:o,ref:M,onContextMenu:k?_=>{_.preventDefault(),v(D=>!D)}:void 0,children:[d&&t.jsxs(pe,{children:[N,d.map(_=>t.jsx(ya,{group:_},_.id))]}),t.jsxs(pe,{children:[!d&&N,r.map(({hidden:_,...D},$)=>{if(_)return null;let{accessor:H,visibleMediaQuery:O,textAlign:X,width:z,title:J,sortable:V,draggable:G,toggleable:ee,resizable:le,titleClassName:C,titleStyle:f,filter:S,filtering:P,sortKey:L}={...h,...D};return t.jsx(Na,{accessor:H,className:C,style:f,visibleMediaQuery:O,textAlign:X,width:z,title:J,sortable:V,draggable:G,toggleable:ee,resizable:le&&$<r.length-1,sortStatus:l,sortIcons:a,sortKey:L,onSortStatusChange:s,filter:S,filtering:P},H)})]})]});return k?t.jsxs(Et,{position:"bottom",withArrow:!0,shadow:"md",opened:y,onChange:v,children:[t.jsx(It,{children:E}),t.jsx(zt,{children:t.jsx(ke,{children:I.filter(_=>_.toggleable).map(_=>t.jsx(ce,{children:t.jsx($e,{classNames:{label:"mantine-datatable-header-column-toggle-checkbox-label"},size:"xs",label:A[_.accessor],checked:_.toggled,onChange:D=>{x(I.map($=>$.accessor===_.accessor?{...$,toggled:D.currentTarget.checked}:$))}})},_.accessor))})})]}):E});function za({pt:n,pb:e,fetching:o,customContent:l,backgroundBlur:a,size:s,type:r,color:h}){return t.jsx(je,{pt:n,pb:e,className:B("mantine-datatable-loader",{"mantine-datatable-loader-fetching":o}),style:[{backdropFilter:a?`blur(${a}px)`:void 0}],children:o&&(l||t.jsx(ho,{size:s,type:r,color:h}))})}function W(n,e,o){return n?bo({color:typeof n=="object"?n[o]:n,theme:e}).value:void 0}function La({theme:n,c:e,backgroundColor:o,borderColor:l,rowBorderColor:a,stripedColor:s,highlightOnHoverColor:r}){return{"--mantine-datatable-color-light":W(e,n,"light"),"--mantine-datatable-color-dark":W(e,n,"dark"),"--mantine-datatable-background-color-light":W(o,n,"light"),"--mantine-datatable-background-color-dark":W(o,n,"dark"),"--mantine-datatable-border-color-light":W(l,n,"light"),"--mantine-datatable-border-color-dark":W(l,n,"dark"),"--mantine-datatable-row-border-color-light":W(a,n,"light"),"--mantine-datatable-row-border-color-dark":W(a,n,"dark"),"--mantine-datatable-striped-color-light":W(s,n,"light"),"--mantine-datatable-striped-color-dark":W(s,n,"dark"),"--mantine-datatable-highlight-on-hover-color-light":W(r,n,"light"),"--mantine-datatable-highlight-on-hover-color-dark":W(r,n,"dark")}}function Yt({theme:n,paginationActiveTextColor:e,paginationActiveBackgroundColor:o}){return{"--mantine-datatable-pagination-active-text-color-light":W(e,n,"light"),"--mantine-datatable-pagination-active-text-color-dark":W(e,n,"dark"),"--mantine-datatable-pagination-active-background-color-light":W(o,n,"light"),"--mantine-datatable-pagination-active-background-color-dark":W(o,n,"dark")}}function Ba({theme:n,color:e,backgroundColor:o}){return{"--mantine-datatable-row-color-light":W(e,n,"light"),"--mantine-datatable-row-color-dark":W(e,n,"dark"),"--mantine-datatable-row-background-color-light":W(o,n,"light"),"--mantine-datatable-row-background-color-dark":W(o,n,"dark")}}function Va(){return t.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t.jsx("path",{d:"M8 9l4 -4l4 4"}),t.jsx("path",{d:"M16 15l-4 4l-4 -4"})]})}var Ft={xs:ae(22),sm:ae(26),md:ae(32),lg:ae(38),xl:ae(44)};function Wa({size:n,label:e,values:o,value:l,activeTextColor:a,activeBackgroundColor:s,onChange:r}){return t.jsxs(ce,{gap:"xs",children:[t.jsx(se,{component:"div",size:n,children:e}),t.jsxs(Y,{withinPortal:!0,withArrow:!0,classNames:{arrow:"mantine-datatable-page-size-selector-menu-arrow"},children:[t.jsx(go,{children:t.jsx(He,{size:n,variant:"default",classNames:{section:"mantine-datatable-page-size-selector-button-icon"},rightSection:t.jsx(Va,{}),style:[{fontWeight:"normal"},h=>({height:Ft[n],paddingLeft:h.spacing[n],paddingRight:h.spacing[n]})],children:l})}),t.jsx(mo,{children:o.map(h=>{let d=h===l;return t.jsx(po,{className:B({"mantine-datatable-page-size-selector-active":d}),style:[{height:Ft[n]},d&&(a||s)?c=>Yt({theme:c,paginationActiveTextColor:a,paginationActiveBackgroundColor:s}):void 0],disabled:d,onClick:()=>r(h),children:t.jsx(se,{component:"div",size:n,children:h})},h)})})]})]})}var Da=i.forwardRef(function({className:n,style:e,fetching:o,page:l,onPageChange:a,paginationWithEdges:s,paginationWithControls:r,paginationActiveTextColor:h,paginationActiveBackgroundColor:d,paginationSize:c,loadingText:p,noRecordsText:b,paginationText:m,totalRecords:w,recordsPerPage:j,onRecordsPerPageChange:T,recordsPerPageLabel:u,recordsPerPageOptions:R,recordsLength:M,horizontalSpacing:N,paginationWrapBreakpoint:I,getPaginationControlProps:x},y){let v;if(w){let A=(l-1)*j+1,E=A+(M||0)-1;v=m({from:A,to:E,totalRecords:w})}else v=o?p:b;let k=Ke(({breakpoints:A})=>`(min-width: ${typeof I=="number"?`${ae(I)}rem`:A[I]||I})`);return t.jsxs(ye,{ref:y,px:N??"xs",py:"xs",className:B("mantine-datatable-pagination",n),style:[{flexDirection:k?"row":"column"},e],children:[t.jsx(se,{component:"div",className:"mantine-datatable-pagination-text",size:c,children:v}),R&&t.jsx(Wa,{activeTextColor:h,activeBackgroundColor:d,size:c,label:u,values:R,value:j,onChange:T}),t.jsx(lo,{classNames:{root:B("mantine-datatable-pagination-pages",{"mantine-datatable-pagination-pages-fetching":o||!M}),control:"mantine-datatable-pagination-pages-control"},style:h||d?A=>Yt({theme:A,paginationActiveTextColor:h,paginationActiveBackgroundColor:d}):void 0,withEdges:s,withControls:r,value:l,onChange:a,size:c,total:Math.ceil(w/j),getControlProps:x})]})});function Ha({className:n,style:e,visibleMediaQuery:o,record:l,index:a,onClick:s,onDoubleClick:r,onContextMenu:h,noWrap:d,ellipsis:c,textAlign:p,width:b,accessor:m,render:w,defaultRender:j,customCellAttributes:T}){return Ke(o)?t.jsx(dt,{className:B({[gt]:d||c,[mt]:c,[Te]:s||r,[Qt]:h,[qe]:p==="left",[Ue]:p==="center",[Qe]:p==="right"},n),style:[{width:b,minWidth:b,maxWidth:b},e],onClick:s,onDoubleClick:r,onContextMenu:h,...T==null?void 0:T(l,a),children:w?w(l,a):j?j(l,a,m):Ut(l,m)}):null}function Oa({open:n,colSpan:e,content:o,collapseProps:l}){let{expanded:a,visible:s}=Ca(n,l==null?void 0:l.transitionDuration);return s?t.jsxs(t.Fragment,{children:[t.jsx(pe,{}),t.jsx(pe,{children:t.jsx(dt,{className:"mantine-datatable-row-expansion-cell",colSpan:e,children:t.jsx(Co,{in:a,...l,children:t.jsx("div",{className:"mantine-datatable-row-expansion-cell-content",children:o()})})})})]}):null}function $a({className:n,style:e,record:o,index:l,trigger:a,onChange:s,withRightShadow:r,checkboxProps:h,getCheckboxProps:d,...c}){let p={...h,...d(o,l)},b=!c.disabled&&!p.disabled,m=w=>{w.stopPropagation(),a==="cell"&&b&&(s==null||s(w))};return t.jsx(dt,{className:B("mantine-datatable-row-selector-cell",{[Te]:a==="cell"&&b},n),style:e,"data-shadow-visible":r||void 0,onClick:m,children:t.jsx($e,{classNames:b?{input:Te}:void 0,onChange:s,...c,...p})})}function Ka({record:n,index:e,columns:o,defaultColumnProps:l,defaultColumnRender:a,selectionTrigger:s,selectionVisible:r,selectionChecked:h,onSelectionChange:d,isRecordSelectable:c,selectionCheckboxProps:p,getSelectionCheckboxProps:b,onClick:m,onDoubleClick:w,onContextMenu:j,onCellClick:T,onCellDoubleClick:u,onCellContextMenu:R,expansion:M,customAttributes:N,color:I,backgroundColor:x,className:y,style:v,selectorCellShadowVisible:k,selectionColumnClassName:A,selectionColumnStyle:E,rowFactory:_}){let D=t.jsxs(t.Fragment,{children:[r&&t.jsx($a,{className:A,style:E,record:n,index:e,trigger:s,withRightShadow:k,checked:h,disabled:!d||(c?!c(n,e):!1),onChange:d,checkboxProps:p,getCheckboxProps:b}),o.map(({hidden:O,hiddenContent:X,...z},J)=>{if(O||X)return null;let{accessor:V,visibleMediaQuery:G,textAlign:ee,noWrap:le,ellipsis:C,width:f,render:S,cellsClassName:P,cellsStyle:L,customCellAttributes:K}={...l,...z};return t.jsx(Ha,{className:typeof P=="function"?P(n,e):P,style:L==null?void 0:L(n,e),visibleMediaQuery:G,record:n,index:e,onClick:T?ne=>T({event:ne,record:n,index:e,column:z,columnIndex:J}):void 0,onDoubleClick:u?ne=>u({event:ne,record:n,index:e,column:z,columnIndex:J}):void 0,onContextMenu:R?ne=>R({event:ne,record:n,index:e,column:z,columnIndex:J}):void 0,accessor:V,textAlign:ee,noWrap:le,ellipsis:C,width:f,render:S,defaultRender:a,customCellAttributes:K},V)})]}),$=M&&t.jsx(Oa,{colSpan:o.filter(({hidden:O})=>!O).length+(r?1:0),open:M.isRowExpanded(n),content:M.content({record:n,index:e}),collapseProps:M.collapseProps}),H=qa({record:n,index:e,selectionChecked:h,onClick:m,onDoubleClick:w,onContextMenu:j,expansion:M,customAttributes:N,color:I,backgroundColor:x,className:y,style:v});return _?_({record:n,index:e,rowProps:H,children:D,expandedElement:$}):t.jsxs(t.Fragment,{children:[t.jsx(pe,{...H,children:D}),$]})}function qa({record:n,index:e,selectionChecked:o,onClick:l,onDoubleClick:a,onContextMenu:s,expansion:r,customAttributes:h,color:d,backgroundColor:c,className:p,style:b}){return{className:B("mantine-datatable-row",{[Te]:l||a||(r==null?void 0:r.isExpandable({record:n,index:e}))&&(r==null?void 0:r.expandOnClick)},{[Qt]:s},typeof p=="function"?p(n,e):p),"data-selected":o||void 0,onClick:m=>{if(r){let{isExpandable:w,isRowExpanded:j,expandOnClick:T,expandRow:u,collapseRow:R}=r;w({record:n,index:e})&&T&&(j(n)?R(n):u(n))}l==null||l({event:m,record:n,index:e})},onDoubleClick:a?m=>a({event:m,record:n,index:e}):void 0,onContextMenu:s?m=>s({event:m,record:n,index:e}):void 0,style:[d||c?m=>{let w=d==null?void 0:d(n,e),j=c==null?void 0:c(n,e);return Ba({theme:m,color:w,backgroundColor:j})}:void 0,b==null?void 0:b(n,e)],...(h==null?void 0:h(n,e))??{}}}function Ua({topShadowVisible:n,leftShadowVisible:e,leftShadowBehind:o,rightShadowVisible:l,rightShadowBehind:a,bottomShadowVisible:s,headerHeight:r,footerHeight:h,onScrollPositionChange:d,children:c,viewportRef:p,scrollAreaProps:b}){return t.jsxs(fo,{...b,viewportRef:p,classNames:{root:"mantine-datatable-scroll-area",scrollbar:"mantine-datatable-scroll-area-scrollbar",thumb:"mantine-datatable-scroll-area-thumb",corner:"mantine-datatable-scroll-area-corner"},onScrollPositionChange:d,children:[c,t.jsx(ye,{className:B("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-top-shadow",{"mantine-datatable-scroll-area-shadow-visible":n}),style:{top:r?ae(r):0}}),t.jsx("div",{className:B("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-left-shadow",{"mantine-datatable-scroll-area-shadow-visible":e,"mantine-datatable-scroll-area-shadow-behind":o})}),t.jsx("div",{className:B("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-right-shadow",{"mantine-datatable-scroll-area-shadow-visible":l,"mantine-datatable-scroll-area-shadow-behind":a})}),t.jsx(ye,{className:B("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-bottom-shadow",{"mantine-datatable-scroll-area-shadow-visible":s}),style:{bottom:h?ae(h+1):0}})]})}function Qa({withTableBorder:n,borderRadius:e,textSelectionDisabled:o,height:l="100%",minHeight:a,maxHeight:s,shadow:r,verticalAlign:h="center",fetching:d,columns:c,storeColumnsKey:p,groups:b,pinFirstColumn:m,pinLastColumn:w,defaultColumnProps:j,defaultColumnRender:T,idAccessor:u="id",records:R,selectionTrigger:M="checkbox",selectedRecords:N,onSelectedRecordsChange:I,selectionColumnClassName:x,selectionColumnStyle:y,isRecordSelectable:v,selectionCheckboxProps:k,allRecordsSelectionCheckboxProps:A={"aria-label":"Select all records"},getRecordSelectionCheckboxProps:E=(Z,de)=>({"aria-label":`Select record ${de+1}`}),sortStatus:_,sortIcons:D,onSortStatusChange:$,horizontalSpacing:H,page:O,onPageChange:X,totalRecords:z,recordsPerPage:J,onRecordsPerPageChange:V,recordsPerPageOptions:G,recordsPerPageLabel:ee="Records per page",paginationWithEdges:le,paginationWithControls:C,paginationActiveTextColor:f,paginationActiveBackgroundColor:S,paginationSize:P="sm",paginationText:L=({from:Z,to:de,totalRecords:ue})=>`${Z} - ${de} / ${ue}`,paginationWrapBreakpoint:K="sm",getPaginationControlProps:ne=Z=>Z==="previous"?{"aria-label":"Previous page"}:Z==="next"?{"aria-label":"Next page"}:{},loaderBackgroundBlur:Ye,customLoader:Gt,loaderSize:Xt,loaderType:Jt,loaderColor:Zt,loadingText:en="...",emptyState:tn,noRecordsText:pt="No records",noRecordsIcon:nn,highlightOnHover:on,striped:an,noHeader:ln,onRowClick:rn,onRowDoubleClick:sn,onRowContextMenu:cn,onCellClick:dn,onCellDoubleClick:un,onCellContextMenu:hn,onScroll:Fe,onScrollToTop:Ne,onScrollToBottom:Ee,onScrollToLeft:Ie,onScrollToRight:ze,c:gn,backgroundColor:mn,borderColor:pn,rowBorderColor:fn,stripedColor:xn,highlightOnHoverColor:bn,rowColor:Cn,rowBackgroundColor:wn,rowExpansion:vn,rowClassName:jn,rowStyle:kn,customRowAttributes:yn,scrollViewportRef:Tn,scrollAreaProps:Rn,tableRef:Sn,bodyRef:Mn,m:An,my:_n,mx:Pn,mt:Fn,mb:Nn,ml:En,mr:In,className:zn,classNames:q,style:Ln,styles:U,rowFactory:Bn,tableWrapper:Ge,...ft}){let{ref:Z,width:de,height:ue}=ve(),Re=i.useMemo(()=>(b==null?void 0:b.flatMap(F=>F.columns))??c,[c,b]),xt=da({key:p,columns:Re}),{ref:Vn,height:Xe}=ve(),{ref:Wn,width:Je,height:Se}=ve(),{ref:Dn,height:Hn}=ve(),{ref:On,height:bt}=ve(),{ref:$n,width:Kn}=ve(),qn=rt(Wn,Sn),Un=rt(Z,Tn),[Ze,Ct]=i.useState(!0),[et,wt]=i.useState(!0),[Me,vt]=i.useState(!0),[Le,jt]=i.useState(!0),Qn=ba({rowExpansion:vn,records:R,idAccessor:u}),tt=i.useCallback(()=>{var be,Ce;let F=((be=Z.current)==null?void 0:be.scrollTop)??0,te=((Ce=Z.current)==null?void 0:Ce.scrollLeft)??0;if(d||Se<=ue)Ct(!0),wt(!0);else{let oe=F===0,re=Se-F-ue<1;Ct(oe),wt(re),oe&&oe!==Ze&&(Ne==null||Ne()),re&&re!==et&&(Ee==null||Ee())}if(d||Je===de)vt(!0),jt(!0);else{let oe=te===0,re=Je-te-de<1;vt(oe),jt(re),oe&&oe!==Me&&(Ie==null||Ie()),re&&re!==Le&&(ze==null||ze())}},[d,Ee,Ie,ze,Ne,ue,Z,de,et,Me,Le,Ze,Se,Je]);ua(tt,[tt]);let kt=ro(tt,50),Yn=i.useCallback(F=>{Fe==null||Fe(F),kt()},[kt,Fe]),Gn=i.useCallback(F=>{var te;(te=Z.current)==null||te.scrollTo({top:0,left:0}),X(F)},[X,Z]),Be=R==null?void 0:R.length,yt=R==null?void 0:R.map(F=>Q(F,u)),xe=!!N,he=N==null?void 0:N.map(F=>Q(F,u)),Tt=yt!==void 0&&he!==void 0&&he.length>0,Ae=v?R==null?void 0:R.filter(v):R,Ve=Ae==null?void 0:Ae.map(F=>Q(F,u)),We=Tt&&Ve.every(F=>he.includes(F)),Xn=Tt&&Ve.some(F=>he.includes(F)),Jn=i.useCallback(()=>{N&&I&&I(We?N.filter(F=>!Ve.includes(Q(F,u))):lt([...N,...Ae],F=>Q(F,u)))},[We,u,I,Ve,Ae,N]),{lastSelectionChangeIndex:De,setLastSelectionChangeIndex:Zn}=ha(yt),nt=xe&&!Me&&!m,eo={m:An,my:_n,mx:Pn,mt:Fn,mb:Nn,ml:En,mr:In},to=i.useCallback(({children:F})=>Ge?Ge({children:F}):F,[Ge]);return t.jsx(Pt,{...xt,children:t.jsxs(ye,{...eo,className:B("mantine-datatable",{"mantine-datatable-with-border":n},zn,q==null?void 0:q.root),style:[F=>({...La({theme:F,c:gn,backgroundColor:mn,borderColor:pn,rowBorderColor:fn,stripedColor:xn,highlightOnHoverColor:bn}),borderRadius:F.radius[e]||e,boxShadow:F.shadows[r]||r,height:l,minHeight:a,maxHeight:s}),Ln,U==null?void 0:U.root,{position:"relative"}],children:[t.jsx(Ua,{viewportRef:Un,topShadowVisible:!Ze,leftShadowVisible:!Me,leftShadowBehind:xe||!!m,rightShadowVisible:!Le,rightShadowBehind:w,bottomShadowVisible:!et,headerHeight:Xe,footerHeight:Hn,onScrollPositionChange:Yn,scrollAreaProps:Rn,children:t.jsx(to,{children:t.jsxs(so,{ref:qn,horizontalSpacing:H,className:B("mantine-datatable-table",{[wa]:o,"mantine-datatable-vertical-align-top":h==="top","mantine-datatable-vertical-align-bottom":h==="bottom","mantine-datatable-last-row-border-bottom-visible":ft.withRowBorders&&Se<ue,"mantine-datatable-pin-last-column":w,"mantine-datatable-pin-last-column-scrolled":!Le&&w,"mantine-datatable-selection-column-visible":xe,"mantine-datatable-pin-first-column":m,"mantine-datatable-pin-first-column-scrolled":!Me&&m},q==null?void 0:q.table),style:{...U==null?void 0:U.table,"--mantine-datatable-selection-column-width":`${Kn}px`},"data-striped":Be&&an||void 0,"data-highlight-on-hover":on||void 0,...ft,children:[ln?null:t.jsx(Pt,{...xt,children:t.jsx(Ia,{ref:Vn,selectionColumnHeaderRef:$n,className:q==null?void 0:q.header,style:U==null?void 0:U.header,columns:Re,defaultColumnProps:j,groups:b,sortStatus:_,sortIcons:D,onSortStatusChange:$,selectionTrigger:M,selectionVisible:xe,selectionChecked:We,selectionIndeterminate:Xn&&!We,onSelectionChange:Jn,selectionCheckboxProps:{...k,...A},selectorCellShadowVisible:nt,selectionColumnClassName:x,selectionColumnStyle:y})}),t.jsx("tbody",{ref:Mn,children:Be?R.map((F,te)=>{let be=Q(F,u),Ce=(he==null?void 0:he.includes(be))||!1,oe;return I&&N&&(oe=re=>{if(re.nativeEvent.shiftKey&&De!==null){let we=R.filter(te>De?(ge,me)=>me>=De&&me<=te&&(v?v(ge,me):!0):(ge,me)=>me>=te&&me<=De&&(v?v(ge,me):!0));I(Ce?xa(N,we,ge=>Q(ge,u)):lt([...N,...we],ge=>Q(ge,u)))}else I(Ce?N.filter(we=>Q(we,u)!==be):lt([...N,F],we=>Q(we,u)));Zn(te)}),t.jsx(Ka,{record:F,index:te,columns:Re,defaultColumnProps:j,defaultColumnRender:T,selectionTrigger:M,selectionVisible:xe,selectionChecked:Ce,onSelectionChange:oe,isRecordSelectable:v,selectionCheckboxProps:k,getSelectionCheckboxProps:E,onClick:rn,onDoubleClick:sn,onCellClick:dn,onCellDoubleClick:un,onContextMenu:cn,onCellContextMenu:hn,expansion:Qn,color:Cn,backgroundColor:wn,className:jn,style:kn,customAttributes:yn,selectorCellShadowVisible:nt,selectionColumnClassName:x,selectionColumnStyle:y,idAccessor:u,rowFactory:Bn},be)}):t.jsx(sa,{})}),Re.some(({footer:F})=>F)&&t.jsx(ka,{ref:Dn,className:q==null?void 0:q.footer,style:U==null?void 0:U.footer,columns:Re,defaultColumnProps:j,selectionVisible:xe,selectorCellShadowVisible:nt,scrollDiff:Se-ue})]})})}),O&&t.jsx(Da,{ref:On,className:q==null?void 0:q.pagination,style:U==null?void 0:U.pagination,horizontalSpacing:H,fetching:d,page:O,onPageChange:Gn,totalRecords:z,recordsPerPage:J,onRecordsPerPageChange:V,recordsPerPageOptions:G,recordsPerPageLabel:ee,paginationWithEdges:le,paginationWithControls:C,paginationActiveTextColor:f,paginationActiveBackgroundColor:S,paginationSize:P,paginationText:L,paginationWrapBreakpoint:K,getPaginationControlProps:ne,noRecordsText:pt,loadingText:en,recordsLength:Be}),t.jsx(za,{pt:Xe,pb:bt,fetching:d,backgroundBlur:Ye,customContent:Gt,size:Xt,type:Jt,color:Zt}),t.jsx(ca,{pt:Xe,pb:bt,icon:nn,text:pt,active:!d&&!Be,children:tn})]})})}var Ya=i.forwardRef(function({children:n,isDragging:e,...o},l){let a=i.useRef(null),s=rt(a,l);return i.useEffect(()=>{if(!a.current||!e)return;let r=a.current.parentElement.parentElement.children[0].children[0];for(let h=0;h<r.children.length;h++){let d=r.children[h].getBoundingClientRect(),c=a.current.children[h];c.style.height=d.height+"px",c.style.width=d.width+"px",c.style.minWidth=d.width+"px",c.style.maxWidth=d.width+"px"}},[e,n]),t.jsx(pe,{"data-is-dragging":e,ref:s,...o,children:n})});Ya.displayName="DataTableDraggableRow";function bl(n,e="pk"){function o(){return`${n.replaceAll("-","")}-${wo()}`}const[l,a]=qo(),s=i.useCallback(()=>{a({})},[]),[r,h]=i.useState(o()),d=i.useCallback(()=>{h(o())},[o]),[c,p]=_e({key:`inventree-table-filters-${n}`,defaultValue:[],getInitialValueInEffect:!1}),b=i.useCallback(()=>{p([])},[]),[m,w]=i.useState([]),j=i.useCallback(V=>m.includes(V),[m]),[T,u]=i.useState([]),R=i.useMemo(()=>T.map(V=>V[e||"pk"]),[T]),M=i.useCallback(()=>{u([])},[]),N=i.useMemo(()=>T.length>0,[T]),[I,x]=i.useState(0),[y,v]=i.useState(1),[k,A]=i.useState(25),[E,_]=_e({key:`inventree-hidden-table-columns-${n}`,defaultValue:[]}),[D,$]=i.useState(""),[H,O]=i.useState([]),X=i.useCallback(V=>{const G=[...H],ee=G.findIndex(le=>le[e||"pk"]===V.pk);ee>=0?G[ee]={...G[ee],...V}:G.push(V),O(G)},[H]),[z,J]=i.useState(!1);return{tableKey:r,refreshTable:d,isLoading:z,setIsLoading:J,activeFilters:c,setActiveFilters:p,clearActiveFilters:b,queryFilters:l,setQueryFilters:a,clearQueryFilters:s,expandedRecords:m,setExpandedRecords:w,isRowExpanded:j,selectedRecords:T,selectedIds:R,setSelectedRecords:u,clearSelectedRecords:M,hasSelectedRecords:N,hiddenColumns:E,setHiddenColumns:_,searchTerm:D,setSearchTerm:$,recordCount:I,setRecordCount:x,page:y,setPage:v,pageSize:k,setPageSize:A,records:H,setRecords:O,updateRecord:X,idAccessor:e}}function Ga({icon:n,actions:e,tooltip:o="",label:l=""}){return t.jsxs(Y,{shadow:"xs",children:[t.jsx(Y.Target,{children:t.jsx(ie,{variant:"default",children:t.jsx(fe,{label:o,children:n})})}),t.jsxs(Y.Dropdown,{children:[l&&t.jsx(Y.Label,{children:l}),e.map((a,s)=>t.jsx(Y.Item,{children:a},`${s}-${a}`))]})]})}function Xa({items:n,hidden:e,enableLabels:o,enableReports:l,modelType:a}){const s=Go(),r=Xo(),h=i.useMemo(()=>n.length>0,[n]),[d,c]=i.useState(""),p=i.useMemo(()=>o&&r.isSet("LABEL_ENABLE"),[o,r]),b=i.useMemo(()=>l&&r.isSet("REPORT_ENABLE"),[l,r]),m=st({enabled:p,queryKey:["printingFields",a,d],gcTime:500,queryFn:()=>Oe.options(ot(at.label_print),{params:{plugin:d||void 0}}).then(u=>Kt(u,"POST")||{}).catch(()=>({}))}),w=i.useMemo(()=>{const u=m.data||{};return u.template={...u.template,filters:{enabled:!0,model_type:a,items:n.join(",")}},u.items={...u.items,value:n,hidden:!0},u.plugin={...u.plugin,value:s.getSetting("LABEL_DEFAULT_PRINTER"),filters:{active:!0,mixin:"labels"},onValueChange:(R,M)=>{M!=null&&M.key&&(M==null?void 0:M.key)!=d&&c(M.key)}},u},[m.data,n]),j=_t({url:ot(at.label_print),title:g._({id:"kjqRDg"}),fields:w,timeout:(n.length+1)*5e3,onClose:()=>{c("")},submitText:g._({id:"BZz12Q"}),successMessage:g._({id:"pT7uop"}),onFormSuccess:u=>{if(c(""),!u.complete){St.show({title:g._({id:"SlfejT"}),message:g._({id:"3Dx00w"}),color:"red"});return}if(u.output){const R=At(u.output);window.open(R.toString(),"_blank")}}}),T=_t({title:g._({id:"qsurSb"}),url:ot(at.report_print),timeout:(n.length+1)*5e3,fields:{template:{filters:{enabled:!0,model_type:a,items:n.join(",")}},items:{hidden:!0,value:n}},submitText:g._({id:"ziAjHi"}),successMessage:g._({id:"nu+rR/"}),onFormSuccess:u=>{if(!u.complete){St.show({title:g._({id:"SlfejT"}),message:g._({id:"cvLQZH"}),color:"red"});return}if(u.output){const R=At(u.output);window.open(R.toString(),"_blank")}}});return!a||!p&&!b?null:!e&&t.jsxs(t.Fragment,{children:[T.modal,j.modal,t.jsx(qt,{tooltip:g._({id:"/oz6DG"}),icon:t.jsx(vo,{}),disabled:!h,actions:[{name:g._({id:"Y93N6T"}),icon:t.jsx(jo,{}),onClick:()=>j.open(),hidden:!p},{name:g._({id:"ClULGR"}),icon:t.jsx(ko,{}),onClick:()=>T.open(),hidden:!b}]})]})}function Ja({columns:n,onToggleColumn:e}){return t.jsxs(Y,{shadow:"xs",closeOnItemClick:!1,children:[t.jsx(Y.Target,{children:t.jsx(ie,{variant:"transparent","aria-label":"table-select-columns",children:t.jsx(fe,{label:g._({id:"kCTFU8"}),children:t.jsx(yo,{})})})}),t.jsxs(Y.Dropdown,{children:[t.jsx(Y.Label,{children:g._({id:"kCTFU8"})}),n.filter(o=>o.switchable??!0).map(o=>t.jsx(Y.Item,{children:t.jsx($e,{checked:!o.hidden,label:o.title||o.accessor,onChange:()=>e(o.accessor),radius:"sm"})},o.accessor))]})]})}function Za({downloadCallback:n}){const e=[{value:"csv",label:g._({id:"6N5Lt+"}),icon:t.jsx(To,{})},{value:"tsv",label:g._({id:"Keu6yk"}),icon:t.jsx(Ro,{})},{value:"xlsx",label:g._({id:"Ii6Hnh"}),icon:t.jsx(So,{})}],o=i.useMemo(()=>e.map(l=>({name:l.label,icon:l.icon,onClick:()=>n(l.value)})),[e,n]);return t.jsx(qt,{tooltip:g._({id:"p63Z1c"}),icon:t.jsx(Mo,{}),actions:o})}function el(n){return n.choices?n.choices:n.choiceFunction?n.choiceFunction():[{value:"true",label:g._({id:"l75CjT"})},{value:"false",label:g._({id:"1UzENP"})}]}function Cl(n){return()=>{const e=Jo.getState().status;if(!e)return[];const o=e[n];return o?Object.keys(o.values).map(l=>{var s;const a=o.values[l];return{value:a.key.toString(),label:((s=a.label)==null?void 0:s.toString())??a.key.toString()}}):[]}}function wl(){return{name:"assigned_to_me",type:"boolean",label:g._({id:"iU3XRS"}),description:g._({id:"BnF3ID"})}}function vl(){return{name:"outstanding",label:g._({id:"aimnwe"}),description:g._({id:"5Dr8AX"})}}function jl(){return{name:"overdue",label:g._({id:"ddrz1m"}),description:g._({id:"eoAfY+"})}}function kl(){return{name:"min_date",label:g._({id:"vhCfRp"}),description:g._({id:"g6o1nx"}),type:"date"}}function yl(){return{name:"max_date",label:g._({id:"dogwLN"}),description:g._({id:"/Is0Q9"}),type:"date"}}function Tl(){return{name:"created_before",label:g._({id:"XIK9k0"}),description:g._({id:"BVOUXI"}),type:"date"}}function Rl(){return{name:"created_after",label:g._({id:"pQfuT0"}),description:g._({id:"5D7LoD"}),type:"date"}}function Sl(){return{name:"target_date_before",label:g._({id:"SsUIID"}),description:g._({id:"Ey6gw7"}),type:"date"}}function Ml(){return{name:"target_date_after",label:g._({id:"a8vo2j"}),description:g._({id:"wvwgPk"}),type:"date"}}function Al(){return{name:"completed_before",label:g._({id:"7Ul+eL"}),description:g._({id:"qR6hn8"}),type:"date"}}function _l(){return{name:"completed_after",label:g._({id:"cFFv89"}),description:g._({id:"liohcD"}),type:"date"}}function Pl(){return{name:"has_project_code",type:"boolean",label:g._({id:"e7gdBS"}),description:g._({id:"gW+vYR"})}}function tl({flt:n,tableState:e}){const o=i.useCallback(()=>{const l=e.activeFilters.filter(a=>a.name!==n.name);e.setActiveFilters(l)},[n]);return t.jsx(_o,{p:"sm",shadow:"sm",radius:"xs",children:t.jsxs(ce,{justify:"space-between",wrap:"nowrap",children:[t.jsxs(ke,{gap:"xs",children:[t.jsx(se,{size:"sm",children:n.label}),t.jsx(se,{size:"xs",children:n.description})]}),t.jsxs(ce,{justify:"right",children:[t.jsx(Po,{children:n.displayValue??n.value}),t.jsx(fe,{label:g._({id:"rn2/2V"}),withinPortal:!0,children:t.jsx(Vt,{size:"md",color:"red",onClick:o})})]})]},n.name)})}function nl({filterType:n,valueOptions:e,onValueChange:o}){const l=i.useCallback(r=>{if(r){const h=r.toString();o(la(h).format("YYYY-MM-DD"))}else o("")},[o]),[a,s]=i.useState("");switch(n){case"text":return t.jsx(Dt,{label:g._({id:"wMHvYH"}),value:a,placeholder:g._({id:"Q//Mlp"}),rightSection:t.jsx(ie,{"aria-label":"apply-text-filter",variant:"transparent",onClick:()=>o(a),children:t.jsx(Fo,{})}),onChange:r=>s(r.currentTarget.value),onKeyDown:r=>{r.key==="Enter"&&o(a)}});case"date":return t.jsx(ta,{label:g._({id:"wMHvYH"}),placeholder:g._({id:"A63fc7"}),onChange:l});case"choice":case"boolean":default:return t.jsx(Wt,{data:e,searchable:n!="boolean",label:g._({id:"wMHvYH"}),placeholder:g._({id:"Fo55lj"}),onChange:r=>o(r),maxDropdownHeight:800})}}function ol({tableState:n,availableFilters:e}){const o=i.useMemo(()=>{var c,p,b;let d=[];return n.activeFilters&&n.activeFilters.length>0&&(d=((c=n.activeFilters)==null?void 0:c.map(m=>m.name))??[]),((b=(p=e==null?void 0:e.filter(m=>!d.includes(m.name)))==null?void 0:p.sort((m,w)=>m.label.localeCompare(w.label)))==null?void 0:b.map(m=>({value:m.name,label:m.label,description:m.description})))??[]},[n.activeFilters,e]),[l,a]=i.useState(null),s=i.useMemo(()=>{const d=e==null?void 0:e.find(c=>c.name===l);return d?el(d):[]},[l]),r=i.useMemo(()=>{var d;return((d=e==null?void 0:e.find(c=>c.name===l))==null?void 0:d.type)??"boolean"},[l]),h=i.useCallback(d=>{var m,w;const c=e.find(j=>j.name===l);if(!c)return;const p=((m=n.activeFilters)==null?void 0:m.filter(j=>j.name!==l))??[],b={...c,value:d,displayValue:(w=s.find(j=>j.value===d))==null?void 0:w.label};n.setActiveFilters([...p,b]),a(null)},[l]);return t.jsxs(ke,{gap:"xs",children:[t.jsx(Bt,{}),t.jsx(Wt,{data:o,searchable:!0,placeholder:g._({id:"hpMOSe"}),label:g._({id:"o7J4JM"}),onChange:d=>a(d),maxDropdownHeight:800}),l&&t.jsx(nl,{filterType:r,valueOptions:s,onValueChange:h})]})}function al({availableFilters:n,tableState:e,opened:o,onClose:l}){var h;const[a,s]=i.useState(!1);i.useEffect(()=>{s(!1)},[e.activeFilters]);const r=i.useMemo(()=>((e==null?void 0:e.activeFilters)??[]).length>0,[e.activeFilters]);return t.jsx(Ao,{size:"sm",position:"right",withCloseButton:!0,opened:o,onClose:l,closeButtonProps:{"aria-label":"filter-drawer-close"},title:t.jsx(Uo,{size:"lg",children:g._({id:"l34cnu"})}),children:t.jsxs(ke,{gap:"xs",children:[r&&((h=e.activeFilters)==null?void 0:h.map(d=>t.jsx(tl,{flt:d,tableState:e},d.name))),r&&t.jsx(Bt,{}),a&&t.jsx(ke,{gap:"xs",children:t.jsx(ol,{tableState:e,availableFilters:n})}),a&&t.jsx(He,{onClick:()=>s(!1),color:"orange",variant:"subtle",children:t.jsx(se,{children:g._({id:"dEgA5A"})})}),!a&&e.activeFilters.length<n.length&&t.jsx(He,{onClick:()=>s(!0),color:"green",variant:"subtle",children:t.jsx(se,{children:g._({id:"PzFzS+"})})}),!a&&e.activeFilters.length>0&&t.jsx(He,{onClick:e.clearActiveFilters,color:"red",variant:"subtle",children:t.jsx(se,{children:g._({id:"J8ECgX"})})})]})})}function ll({searchCallback:n}){const[e,o]=i.useState(""),[l]=No(e,500);return i.useEffect(()=>{n(l)},[l]),t.jsx(Dt,{value:e,leftSection:t.jsx(Eo,{}),placeholder:g._({id:"A1taO8"}),onChange:a=>o(a.target.value),rightSection:e.length>0?t.jsx(Vt,{size:"xs",onClick:()=>o("")}):null})}function rl({tableUrl:n,tableState:e,tableProps:o,hasSwitchableColumns:l,columns:a,filters:s,toggleColumn:r}){var b,m,w,j;const[h,d]=i.useState(!1),c=T=>{const u={...o.params};if(e.activeFilters&&e.activeFilters.forEach(M=>{u[M.name]=M.value}),e.queryFilters)for(const[M,N]of e.queryFilters)u[M]=N;e.searchTerm&&(u.search=e.searchTerm),u.export=T;const R=Oe.getUri({url:n,params:u});window.open(R,"_blank")},p=na({url:n??"",title:g._({id:"NEGzXb"}),preFormContent:t.jsx(Mt,{color:"red",title:g._({id:"3kYcuM"}),children:g._({id:"U99rVM"})}),initialData:{items:e.selectedIds},fields:{items:{hidden:!0}},onFormSuccess:()=>{e.clearSelectedRecords(),e.refreshTable(),o.afterBulkDelete&&o.afterBulkDelete()}});return t.jsxs(t.Fragment,{children:[p.modal,o.enableFilters&&(s.length??0)>0&&t.jsx(it,{label:`InvenTreeTableFilterDrawer-${e.tableKey}`,children:t.jsx(al,{availableFilters:s,tableState:e,opened:h,onClose:()=>d(!1)})}),e.queryFilters.size>0&&t.jsx(Mt,{color:"yellow",withCloseButton:!0,title:g._({id:"VUTcDq"}),onClose:()=>e.clearQueryFilters()}),t.jsxs(ce,{justify:"apart",grow:!0,wrap:"nowrap",children:[t.jsxs(ce,{justify:"left",gap:5,wrap:"nowrap",children:[t.jsx(Xa,{items:e.selectedIds,modelType:o.modelType,enableLabels:o.enableLabels,enableReports:o.enableReports}),(((b=o.barcodeActions)==null?void 0:b.length)??0)>0&&t.jsx(Ga,{icon:t.jsx(Io,{}),label:g._({id:"heU0Hk"}),tooltip:g._({id:"heU0Hk"}),actions:o.barcodeActions??[]},"barcode-actions"),o.enableBulkDelete&&t.jsx(oa,{disabled:!e.hasSelectedRecords,icon:t.jsx(Ht,{}),color:"red",tooltip:g._({id:"QZQ+5V"}),onClick:()=>{p.open()}}),(m=o.tableActions)==null?void 0:m.map((T,u)=>t.jsx(t.Fragment,{children:T},u))]},"custom-actions"),t.jsx(zo,{}),t.jsxs(ce,{justify:"right",gap:5,wrap:"nowrap",children:[o.enableSearch&&t.jsx(ll,{searchCallback:T=>e.setSearchTerm(T)}),o.enableRefresh&&t.jsx(ie,{variant:"transparent","aria-label":"table-refresh",children:t.jsx(fe,{label:g._({id:"8RYNR1"}),children:t.jsx(Lo,{onClick:()=>{e.refreshTable(),e.clearSelectedRecords()}})})}),l&&t.jsx(Ja,{columns:a,onToggleColumn:r}),o.enableFilters&&s.length>0&&t.jsx(Bo,{size:"xs",label:((w=e.activeFilters)==null?void 0:w.length)??0,disabled:((j=e.activeFilters)==null?void 0:j.length)==0,children:t.jsx(ie,{variant:"transparent","aria-label":"table-select-filters",children:t.jsx(fe,{label:g._({id:"l34cnu"}),children:t.jsx(Vo,{onClick:()=>d(!h)})})})}),o.enableDownload&&t.jsx(Za,{downloadCallback:c},"download-action")]})]})]})}function Fl(n){return{...n,color:void 0,icon:t.jsx(Wo,{}),onClick:e=>{const o=Ot(n.modelType,n.modelId);$t(o,n.navigate,e)}}}function Nl(n){return{...n,title:g._({id:"euc6Ns"}),color:"green",icon:t.jsx(Do,{})}}function El(n){return{...n,title:g._({id:"ePK91l"}),color:"blue",icon:t.jsx(Ho,{})}}function Il(n){return{...n,title:g._({id:"cnGeoo"}),color:"red",icon:t.jsx(Ht,{})}}function zl(n){return{...n,title:g._({id:"dEgA5A"}),color:"red",icon:t.jsx(Oo,{})}}function sl({title:n,actions:e,disabled:o=!1,index:l}){function a(c){ct(c),r(!s)}const[s,r]=i.useState(!1),h=i.useMemo(()=>e.filter(c=>!c.hidden),[e]);function d(c){return t.jsx(fe,{withinPortal:!0,label:c.tooltip??c.title,position:"left",children:t.jsx(Y.Item,{color:c.color,leftSection:c.icon,onClick:p=>{var b;ct(p),(b=c.onClick)==null||b.call(c,p),r(!1)},disabled:c.disabled||!1,children:c.title})},c.title)}return h.length>0&&t.jsxs(Y,{withinPortal:!0,disabled:o,position:"bottom-end",opened:s,onChange:r,children:[t.jsx(Y.Target,{children:t.jsx(fe,{withinPortal:!0,label:n||g._({id:"7L01XJ"}),children:t.jsx(ie,{"aria-label":`row-action-menu-${l??""}`,onClick:a,disabled:o,variant:"subtle",color:"gray",children:t.jsx($o,{})},`row-action-menu-${l??""}`)})}),t.jsx(Y.Dropdown,{children:h.map(c=>t.jsx(d,{...c},c.title))})]})}const Nt=25,il=[10,15,20,25,50,100,500],cl={params:{},noRecordsText:g._({id:"EqGTpW"}),enableDownload:!1,enableLabels:!1,enableReports:!1,enableFilters:!0,enablePagination:!0,enableRefresh:!0,enableSearch:!0,enableSelection:!1,defaultSortColumn:"",barcodeActions:[],tableFilters:[],tableActions:[]};function Ll({url:n,tableState:e,tableData:o,columns:l,props:a}){const{getTableColumnNames:s,setTableColumnNames:r,getTableSorting:h,setTableSorting:d,loader:c}=Zo(),[p,b]=i.useState({}),m=Qo(),{showContextMenu:w}=Yo(),j=i.useMemo(()=>{var C,f;return((f=(C=a.tableFilters)==null?void 0:C.filter(S=>S.active!=!1))==null?void 0:f.map(S=>({...S,label:S.label??p[S.name]??`${S.name}`})))??[]},[a.tableFilters,p]),T=st({enabled:!!n&&!o,queryKey:["options",n,e.tableKey,a.enableColumnCaching],retry:3,refetchOnMount:!0,gcTime:5e3,queryFn:async()=>!n||a.enableColumnCaching==!1||p&&Object.keys(p).length>0?null:Oe.options(n,{params:u.params}).then(C=>{if(C.status==200){const f={},S=Kt(C,"GET",!0)||{};aa(S,(L,K)=>{K.label&&(f[L]=K.label)});const P=e.tableKey.replaceAll("-","");b(f),r(P)(f)}return null}).catch(()=>(Ko({title:g._({id:"DFEq8c"}),message:g._({id:"H7mqmH"}),color:"red"}),null))});i.useEffect(()=>{if(a.enableColumnCaching==!1)return;const C=e.tableKey.replaceAll("-",""),f=s(C);if(f!=null){b(f);return}T.refetch()},[n,a.params,a.enableColumnCaching]);const u=i.useMemo(()=>({...cl,...a}),[a]),R=i.useMemo(()=>u.enableSelection||u.enableBulkDelete||!1,[u]),M=i.useMemo(()=>a.enableColumnSwitching==!1?!1:l.some(C=>C.hidden==!0?!1:C.switchable!=!1),[l,a.enableColumnSwitching]),N=i.useCallback(C=>{e.setSelectedRecords(C)},[e.setSelectedRecords]),I=i.useMemo(()=>{const C=l.filter(f=>(f==null?void 0:f.hidden)!=!0).map(f=>{let S=f.hidden??!1;return(f.switchable??!0)&&(S=e.hiddenColumns.includes(f.accessor)),{...f,hidden:S,noWrap:!0,title:f.title??p[f.accessor]??`${f.accessor}`}});return u.rowActions&&C.push({accessor:"--actions--",title:"   ",hidden:!1,switchable:!1,width:50,render:(f,S)=>{var P;return t.jsx(sl,{actions:((P=u.rowActions)==null?void 0:P.call(u,f))??[],disabled:e.selectedRecords.length>0,index:S})}}),C},[l,p,u.rowActions,e.hiddenColumns,e.selectedRecords]);function x(C){const f=[...I],S=f.findIndex(P=>P.accessor==C);S>=0&&S<f.length&&(f[S].hidden=!f[S].hidden),e.setHiddenColumns(f.filter(P=>P.hidden).map(P=>P.accessor))}i.useEffect(()=>{e.setPage(1)},[e.searchTerm]);const[y,v]=i.useState({columnAccessor:u.defaultSortColumn??"",direction:"asc"}),k=i.useCallback((C=!1)=>{const f={...u.params};if(e.activeFilters&&e.activeFilters.forEach(P=>{f[P.name]=P.value}),e.queryFilters)for(const[P,L]of e.queryFilters)f[P]=L;if(e.searchTerm&&(f.search=e.searchTerm),u.enablePagination&&C){const P=e.pageSize??Nt;P!=e.pageSize&&e.setPageSize(P),f.limit=P,f.offset=(e.page-1)*P}const S=A();return S&&(y.direction=="asc"?f.ordering=S:f.ordering=`-${S}`),f},[u.params,u.enablePagination,e.activeFilters,e.queryFilters,e.searchTerm,e.pageSize,e.setPageSize,y,A]);i.useEffect(()=>{const C=e.tableKey.split("-")[0],f=h(C);f&&v(f)},[]);function A(){const C=y.columnAccessor;if(C=="")return"";const f=I.find(S=>S.accessor==C);return(f==null?void 0:f.ordering)||C}const[E,_]=i.useState(u.noRecordsText??g._({id:"EqGTpW"})),D=C=>{e.setPage(1),v(C);const f=e.tableKey.split("-")[0];d(f)(C)},$=async()=>{const C=k(!0);return n?Oe.get(n,{params:C,timeout:5*1e3}).then(f=>{var S,P;switch(f.status){case 200:_(u.noRecordsText??g._({id:"EqGTpW"}));let L=((S=f.data)==null?void 0:S.results)??f.data??[];return a.dataFormatter&&(L=a.dataFormatter(L)),Array.isArray(L)||(_(g._({id:"3o3AAs"})),L=[]),e.setRecordCount(((P=f.data)==null?void 0:P.count)??L.length),L;case 400:_(g._({id:"UFBeQV"}));break;case 401:_(g._({id:"dA/8If"}));break;case 403:_(g._({id:"7JBW66"}));break;case 404:_(g._({id:"KPx1UV"}));break;default:_(`${g._({id:"29VNqC"})}: ${f.statusText}`);break}return[]}).catch(f=>(_(`${g._({id:"SlfejT"})}: ${f.message}`),[])):[]},{data:H,isFetching:O,isLoading:X,refetch:z}=st({queryKey:["tabledata",n,e.page,a.params,y.columnAccessor,y.direction,e.tableKey,e.activeFilters,e.searchTerm],enabled:!!n&&!o,queryFn:$,refetchOnMount:!0});i.useEffect(()=>{z()},[e.queryFilters]),i.useEffect(()=>{e.setIsLoading(O||X||T.isFetching||T.isLoading)},[O,X,T]),i.useEffect(()=>{const C=o??H??[];e.setRecords(C),u.enablePagination||e.setPageSize((C==null?void 0:C.length)??Nt)},[o,H]);const J=i.useCallback(({event:C,record:f,index:S,column:P,columnIndex:L})=>{if(P.accessor!="--actions--"){if(a.onCellClick)a.onCellClick({event:C,record:f,index:S,column:P,columnIndex:L});else if(a.onRowClick)a.onRowClick(f,S,C);else if(u.modelType){const K=u.modelField??"pk",ne=ea(f,K);if(ne){ct(C);const Ye=Ot(u.modelType,ne);$t(Ye,m,C)}}}},[a.onRowClick,a.onCellClick]),V=({record:C,column:f,event:S})=>{if((f==null?void 0:f.noContext)!==!0){if(a.onCellContextMenu)return a.onCellContextMenu(C,S);if(a.rowActions){const P=()=>{},L=a.rowActions(C).map(K=>({key:K.title??"",title:K.title??"",color:K.color,icon:K.icon,onClick:K.onClick??P,hidden:K.hidden,disabled:K.disabled}));return w(L)(S)}else return w([])(S)}};function G(C){e.setPageSize(C),e.setPage(1),e.refreshTable()}const ee=i.useMemo(()=>{if(a.rowExpansion)return{...a.rowExpansion,expanded:{recordIds:e.expandedRecords,onRecordIdsChange:C=>{e.setExpandedRecords(C)}}}},[e.expandedRecords,e.setExpandedRecords,a.rowExpansion]),le=i.useMemo(()=>{let C={};return u.enablePagination&&(C={...C,totalRecords:e.recordCount,recordsPerPage:e.pageSize,page:e.page,onPageChange:e.setPage,recordsPerPageOptions:il,onRecordsPerPageChange:G}),C},[u.enablePagination,e.recordCount,e.pageSize,e.page,e.setPage,G]);return t.jsx(t.Fragment,{children:t.jsxs(ke,{gap:"xs",children:[!u.noHeader&&t.jsx(it,{label:`InvenTreeTableHeader-${e.tableKey}`,children:t.jsx(rl,{tableUrl:n,tableState:e,tableProps:u,hasSwitchableColumns:M,columns:I,filters:j,toggleColumn:x})}),t.jsx(it,{label:`InvenTreeTable-${e.tableKey}`,children:t.jsx(ye,{pos:"relative",children:t.jsx(Qa,{withTableBorder:!u.noHeader,withColumnBorders:!0,striped:!0,highlightOnHover:!0,loaderType:c,pinLastColumn:u.rowActions!=null,idAccessor:e.idAccessor??"pk",minHeight:u.minHeight??300,sortStatus:y,onSortStatusChange:D,selectedRecords:R?e.selectedRecords:void 0,onSelectedRecordsChange:R?N:void 0,rowExpansion:ee,rowStyle:u.rowStyle,fetching:O,noRecordsText:E,records:e.records,columns:I,onCellClick:J,noHeader:u.noHeader??!1,defaultColumnProps:{noWrap:!0,textAlign:"left",cellsStyle:()=>C=>({overflow:"hidden"})},onCellContextMenu:V,...le})})})]})})}export{wl as A,Tl as C,Pl as H,Ll as I,kl as M,vl as O,Xa as P,El as R,Cl as S,Sl as T,Qa as Y,Il as a,jl as b,yl as c,Rl as d,Ml as e,Al as f,_l as g,Fl as h,sl as i,Nl as j,zl as k,Ut as r,bl as u};
