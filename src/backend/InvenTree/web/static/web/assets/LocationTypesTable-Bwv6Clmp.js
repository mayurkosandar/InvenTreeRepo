import{r as o,i as e,j as i}from"./vendor-BnaqX2_l.js";import{u as b,a as f,b as y,A as T}from"./UseForm-DwZIxEnj.js";import{A as h}from"./ApiIcon-Bqf-O7I2.js";import{a as x,A as c,U as r,e as C}from"./index-fPzgLVil.js";import{u as F,R,a as j,I as M}from"./InvenTreeTable-rEa-i3pt.js";import"./BaseContext-CH9A7-TB.js";import"./dayjs.min-DlCiWWGX.js";import"./Instance-DrUTN1gu.js";import"./navigation-B-mN4luC.js";import"./DesktopAppView-CAvOv5f4.js";import"./ActionDropdown-D1A3arjv.js";function W(){const a=F("location-types"),s=x(),n=o.useMemo(()=>({name:{},description:{},icon:{field_type:"icon"}}),[]),[l,p]=o.useState(0),d=b({url:c.stock_location_type_list,title:e._({id:"4C+o/K"}),fields:o.useMemo(()=>({...n}),[n]),onFormSuccess:a.refreshTable}),u=f({url:c.stock_location_type_list,pk:l,title:e._({id:"BN23Uj"}),fields:o.useMemo(()=>({...n}),[n]),onFormSuccess:t=>a.updateRecord(t)}),m=y({url:c.stock_location_type_list,pk:l,title:e._({id:"G9WAYq"}),onFormSuccess:a.refreshTable}),_=o.useMemo(()=>[{accessor:"icon",title:e._({id:"wwu18a"}),sortable:!0,render:t=>i.jsx(h,{name:t.icon})},{accessor:"name",title:e._({id:"6YtxFj"}),sortable:!0},{accessor:"description",title:e._({id:"Nu4oKW"})},{accessor:"location_count",sortable:!0}],[]),k=o.useCallback(t=>[R({hidden:!s.hasChangeRole(r.stock_location),onClick:()=>{p(t.pk),u.open()}}),j({hidden:!s.hasDeleteRole(r.stock_location),onClick:()=>{p(t.pk),m.open()}})],[s]),A=o.useMemo(()=>[i.jsx(T,{tooltip:e._({id:"4C+o/K"}),onClick:()=>d.open(),hidden:!s.hasAddRole(r.stock_location)},"add-location-type")],[s]);return i.jsxs(i.Fragment,{children:[d.modal,u.modal,m.modal,i.jsx(M,{url:C(c.stock_location_type_list),tableState:a,columns:_,props:{rowActions:k,tableActions:A}})]})}export{W as default};
