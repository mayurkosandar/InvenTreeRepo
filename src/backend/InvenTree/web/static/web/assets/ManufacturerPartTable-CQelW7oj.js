import{r as o,j as s,i as u}from"./vendor-BnaqX2_l.js";import{u as A,a as C,b as x,A as P}from"./UseForm-DwZIxEnj.js";import{T as R}from"./Instance-DrUTN1gu.js";import{a as k,A as l,U as i,e as T,m as D}from"./index-fPzgLVil.js";import{u as j}from"./CompanyForms-yUzzFM8E.js";import{u as F,R as w,a as E,I as S}from"./InvenTreeTable-rEa-i3pt.js";import{a as U,D as g,L as y}from"./ColumnRenderers-6jyK6a0i.js";function Z({params:e}){const n=F("manufacturerparts"),a=k(),b=o.useMemo(()=>[{accessor:"part",switchable:"part"in e,sortable:!0,render:t=>U({part:t==null?void 0:t.part_detail})},{accessor:"manufacturer",sortable:!0,render:t=>{const r=(t==null?void 0:t.manufacturer_detail)??{};return s.jsx(R,{src:(r==null?void 0:r.thumbnail)??r.image,text:r.name})}},{accessor:"MPN",title:u._({id:"ZCCuT2"}),sortable:!0},g({}),y({})],[e]),c=j(),[d,m]=o.useState(void 0),p=A({url:l.manufacturer_part_list,title:u._({id:"uOeMYf"}),fields:c,table:n,initialData:{manufacturer:e==null?void 0:e.manufacturer,part:e==null?void 0:e.part}}),f=C({url:l.manufacturer_part_list,pk:d,title:u._({id:"b30yxS"}),fields:c,table:n}),_=x({url:l.manufacturer_part_list,pk:d,title:u._({id:"fMDrRl"}),table:n}),M=o.useMemo(()=>{const t=a.hasAddRole(i.purchase_order)&&a.hasAddRole(i.part);return[s.jsx(P,{tooltip:u._({id:"uOeMYf"}),onClick:()=>p.open(),hidden:!t},"add-manufacturer-part")]},[a]),h=o.useCallback(t=>[w({hidden:!a.hasChangeRole(i.purchase_order),onClick:()=>{m(t.pk),f.open()}}),E({hidden:!a.hasDeleteRole(i.purchase_order),onClick:()=>{m(t.pk),_.open()}})],[a]);return s.jsxs(s.Fragment,{children:[p.modal,f.modal,_.modal,s.jsx(S,{url:T(l.manufacturer_part_list),tableState:n,columns:b,props:{params:{...e,part_detail:!0,manufacturer_detail:!0},enableDownload:!0,rowActions:h,tableActions:M,modelType:D.manufacturerpart}})]})}export{Z as M};
