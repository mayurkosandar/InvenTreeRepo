import{r as p,j as t,S as z,cz as P,ci as C,A as w,G as j,i as m,bC as g,C as A,m as f,b5 as M,b4 as U,bE as G,bG as O,bA as q}from"./vendor-BnaqX2_l.js";import{u as N,g as B,p as E,r as F,s as b,m as i,f as d,e as X,M as D,d as H}from"./index-fPzgLVil.js";import{n as K}from"./navigation-B-mN4luC.js";import{A as h}from"./ApiIcon-Bqf-O7I2.js";function R({str:e,len:r=100}){if(e=e??"",e=e.toString(),e.length<=r)return e;const n=Math.floor(r/2-1);return`${e.slice(0,n)} ... ${e.slice(-n)}`}function J(e){const{host:r}=N.getState(),n=p.useMemo(()=>B(e.src,r),[r,e.src]);return t.jsx(z,{children:n?t.jsx(P,{...e,src:n,fit:"contain"}):t.jsx(C,{h:(e==null?void 0:e.h)??e.w,w:(e==null?void 0:e.w)??e.h})})}function Q({src:e,alt:r=m._({id:"sGeXL3"}),size:n=20,link:a,text:o,align:u}){const c="/static/img/blank_image.png",l=p.useMemo(()=>a?t.jsx(w,{href:a,target:"_blank",children:o}):o,[a,o]);return t.jsxs(j,{align:u??"left",gap:"xs",wrap:"nowrap",children:[t.jsx(J,{src:e||c,"aria-label":r,w:n,fit:"contain",radius:"xs",style:{maxHeight:n}}),l]})}function V(e,r,n={}){let a=null,o=null;for(const c in r.values){const l=r.values[c];if((l==null?void 0:l.key)==e){a=l.label,o=l.color;break}}a||console.error(`ERR: renderStatusLabel could not find match for code ${e}`),o==null&&(o="default"),o=b[o]||b.default;const u=n.size||"xs";return a||(a=e),t.jsx(g,{color:o,variant:"filled",size:u,children:a})}function W(e){const r=E.getState().status;if(r===void 0)return console.log("StatusRenderer: statusCodeList is undefined"),null;const n=r[e];return n===void 0?(console.log("StatusRenderer: statusCodes is undefined"),null):n}const x=({status:e,type:r,options:n})=>{const a=W(r);return n!=null&&n.hidden?null:a==null?(console.warn("StatusRenderer: statusCodes is undefined"),null):V(e,a,n)};function Pe(e,r){return n=>{const a=F(n,r??"status");return a&&t.jsx(A,{children:x({status:a,type:e})})}}function Y(e){var n,a;const{instance:r}=e;return t.jsx(s,{...e,primary:r.reference,secondary:r.title,suffix:x({status:r.status_custom_key,type:i.build}),image:((n=r.part_detail)==null?void 0:n.thumbnail)||((a=r.part_detail)==null?void 0:a.image),url:e.link?d(i.build,r.pk):void 0})}function Z({instance:e}){return t.jsx(s,{primary:e.part_detail.full_name,secondary:e.quantity,suffix:x({status:e.status_custom_key,type:i.build}),image:e.part_detail.thumbnail||e.part_detail.image})}function ee({instance:e}){return t.jsx(s,{primary:e.pk})}function re({instance:e}){const r=[e.country,e.postal_code,e.postal_city,e.province,e.line1,e.line2].filter(Boolean).join(", ");return t.jsx(s,{primary:e.title,secondary:r})}function te(e){const{instance:r}=e;return t.jsx(s,{...e,image:r.thumnbnail||r.image,primary:r.name,secondary:r.description,url:e.link?d(i.company,r.pk):void 0})}function ne({instance:e}){return t.jsx(s,{primary:e.name})}function ie(e){const{instance:r}=e,n=r.supplier_detail??{},a=r.part_detail??{};return t.jsx(s,{...e,primary:n==null?void 0:n.name,secondary:r.SKU,image:(a==null?void 0:a.thumbnail)??(a==null?void 0:a.image)??(n==null?void 0:n.thumbnail)??(n==null?void 0:n.image),suffix:a.full_name?t.jsx(f,{size:"sm",children:a.full_name}):void 0,url:e.link?d(i.supplierpart,r.pk):void 0})}function ae(e){const{instance:r}=e,n=r.part_detail??{},a=r.manufacturer_detail??{};return t.jsx(s,{...e,primary:a.name,secondary:r.MPN,suffix:n.full_name?t.jsx(f,{size:"sm",children:n.full_name}):void 0,image:(a==null?void 0:a.thumnbnail)??a.image,url:e.link?d(i.manufacturerpart,r.pk):void 0})}function se({instance:e}){return e&&t.jsx(s,{primary:e.code,secondary:e.description})}function oe({instance:e}){return e&&t.jsx(s,{primary:e.app_labeled_name})}function ue({instance:e}){return e&&t.jsx(s,{primary:e.name})}function le({instance:e}){return e&&t.jsx(s,{primary:e.data_file})}function de({instance:e}){return e&&t.jsx(s,{primary:e.name,secondary:e.description})}function k(e){const{instance:r}=e,n=(r==null?void 0:r.supplier_detail)||{};return t.jsx(s,{...e,primary:r.reference,secondary:r.description,suffix:x({status:r.status_custom_key,type:i.purchaseorder}),image:n.thumnbnail||n.image,url:e.link?d(i.purchaseorder,r.pk):void 0})}function ce(e){const{instance:r}=e,n=(r==null?void 0:r.customer_detail)||{};return t.jsx(s,{...e,primary:r.reference,secondary:r.description,suffix:x({status:r.status_custom_key,type:i.returnorder}),image:n.thumnbnail||n.image,url:e.link?d(i.returnorder,r.pk):void 0})}function me(e){const{instance:r}=e;return t.jsx(s,{...e,primary:r.reference,suffix:x({status:r.outcome,type:i.returnorderlineitem})})}function fe(e){const{instance:r}=e,n=(r==null?void 0:r.customer_detail)||{};return t.jsx(s,{...e,primary:r.reference,secondary:r.description,suffix:x({status:r.status_custom_key,type:i.salesorder}),image:n.thumnbnail||n.image,url:e.link?d(i.salesorder,r.pk):void 0})}function xe({instance:e}){const r=e.order_detail||{};return t.jsx(s,{primary:r.reference,secondary:`${m._({id:"4fws5M"})} ${e.reference}`})}function ye(e){const{instance:r}=e;let n="",a="";const o=r.total_in_stock;r.active==!1?(a="red",n=m._({id:"NoNwIX"})):o<=0?(a="orange",n=m._({id:"AbC1Px"})):(n=`${m._({id:"blbbPS"})}: ${o}`,a=r.minimum_stock>o?"yellow":"green");const u=t.jsx(g,{size:"xs",color:a,children:n});return t.jsx(s,{...e,primary:r.full_name??r.name,secondary:r.description,suffix:u,image:r.thumnbnail||r.image,url:e.link?d(i.part,r.pk):void 0})}function je(e){const{instance:r}=e;return t.jsx(s,{...e,tooltip:r.pathstring,prefix:t.jsxs(t.Fragment,{children:[r.level>0&&`${"- ".repeat(r.level)}`,r.icon&&t.jsx(h,{name:r.icon})]}),primary:r.pathstring,secondary:r.description,url:e.link?d(i.partcategory,r.pk):void 0})}function pe({instance:e}){return t.jsx(s,{primary:e.name,secondary:e.description,suffix:e.units})}function ge({instance:e}){return t.jsx(s,{primary:e.test_name,secondary:e.description})}function he({instance:e}){var r;return t.jsx(s,{primary:e.name,secondary:(r=e.meta)==null?void 0:r.description,suffix:!e.active&&t.jsx(g,{size:"sm",color:"red",children:m._({id:"NoNwIX"})})})}function _e({instance:e}){return t.jsx(s,{primary:e.name,secondary:e.description})}function be({instance:e}){return t.jsx(s,{primary:e.name,secondary:e.description})}function Re(e){const{instance:r}=e;return t.jsx(s,{...e,tooltip:r.pathstring,prefix:t.jsxs(t.Fragment,{children:[r.level>0&&`${"- ".repeat(r.level)}`,r.icon&&t.jsx(h,{name:r.icon})]}),primary:r.pathstring,secondary:r.description,url:e.link?d(i.stocklocation,r.pk):void 0})}function ke({instance:e}){return t.jsx(s,{primary:e.name,prefix:e.icon&&t.jsx(h,{name:e.icon}),secondary:`${e.description} (${e.location_count})`})}function S(e){var a,o,u;const{instance:r}=e;let n="";return(r==null?void 0:r.serial)!==null&&(r==null?void 0:r.serial)!==void 0?n+=`${m._({id:"AXeJt4"})}: ${r.serial}`:r!=null&&r.quantity&&(n=`${m._({id:"VbWX2u"})}: ${r.quantity}`),t.jsx(s,{...e,primary:(a=r.part_detail)==null?void 0:a.full_name,suffix:t.jsx(f,{size:"xs",children:n}),image:((o=r.part_detail)==null?void 0:o.thumbnail)||((u=r.part_detail)==null?void 0:u.image),url:e.link?d(i.stockitem,r.pk):void 0})}function Se({instance:e}){return e&&t.jsx(s,{primary:e.name,suffix:e.label=="group"?t.jsx(M,{size:16}):t.jsx(U,{size:16})})}function ve({instance:e}){return e&&t.jsx(s,{primary:e.username,secondary:`${e.first_name} ${e.last_name}`})}function Ce({instance:e}){return e&&t.jsx(s,{primary:e.name})}const we={[i.address]:re,[i.build]:Y,[i.buildline]:Z,[i.builditem]:ee,[i.company]:te,[i.contact]:ne,[i.manufacturerpart]:ae,[i.owner]:Se,[i.part]:ye,[i.partcategory]:je,[i.partparametertemplate]:pe,[i.parttesttemplate]:ge,[i.projectcode]:se,[i.purchaseorder]:k,[i.purchaseorderlineitem]:k,[i.returnorder]:ce,[i.returnorderlineitem]:me,[i.salesorder]:fe,[i.salesordershipment]:xe,[i.stocklocation]:Re,[i.stocklocationtype]:ke,[i.stockitem]:S,[i.stockhistory]:S,[i.supplierpart]:ie,[i.user]:ve,[i.group]:Ce,[i.importsession]:le,[i.reporttemplate]:_e,[i.labeltemplate]:be,[i.pluginconfig]:he,[i.contenttype]:oe,[i.selectionlist]:de,[i.error]:ue};function Le(e){if(e.model===void 0)return t.jsx(v,{model:e.model});const r=e.model.toString().toLowerCase(),n=we[r];return n?t.jsx(n,{...e}):t.jsx(v,{model:e.model})}function Ae({model:e,pk:r}){const{data:n,isLoading:a,isFetching:o}=q({queryKey:["model",e,r],queryFn:async()=>{const u=X(D[e].api_endpoint,r);return H.get(u).then(c=>c.data).catch(()=>null)}});return a||o?t.jsx(C,{}):n?t.jsx(Le,{model:e,instance:n}):t.jsxs(f,{children:[e,": ",r]})}function s({primary:e,secondary:r,prefix:n,suffix:a,image:o,labels:u,url:c,navigate:l,showSecondary:L=!0,tooltip:$}){const I=p.useCallback(y=>{c&&l&&K(c,l,y)},[c,l]),_=R({str:e,len:50}),T=R({str:r,len:75});return t.jsxs(j,{gap:"xs",justify:"space-between",wrap:"nowrap",title:$,children:[t.jsxs(j,{gap:"xs",justify:"left",wrap:"nowrap",children:[n,o&&t.jsx(Q,{src:o,size:18}),c?t.jsx(w,{href:"",onClick:y=>I(y),children:t.jsx(f,{size:"sm",children:_})}):t.jsx(f,{size:"sm",children:_}),L&&r&&t.jsx(f,{size:"xs",children:T})]}),a&&t.jsxs(t.Fragment,{children:[t.jsx(G,{}),t.jsx("div",{style:{fontSize:"xs",lineHeight:"xs"},children:a})]})]})}function v({model:e}){return t.jsx(O,{color:"red",title:m._({id:"5iarLn",values:{model:e}})})}export{J as A,Le as R,x as S,Q as T,Pe as a,Se as b,ye as c,ve as d,Ae as e,S as f,W as g,Re as h,Y as i,k as j,fe as k,ce as l,te as m,R as s};
