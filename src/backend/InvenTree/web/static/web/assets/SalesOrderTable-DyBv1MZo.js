import{r as i,i as e,j as s}from"./vendor-BnaqX2_l.js";import{u as C,A as h}from"./UseForm-DwZIxEnj.js";import{T as j}from"./Instance-DrUTN1gu.js";import{b as x}from"./formatters-DBeaC9UC.js";import{a as A,m as a,A as p,U as g,e as y}from"./index-fPzgLVil.js";import{u as I}from"./ReturnOrderForms-CfoSxIhw.js";import{u as T,a as O}from"./UseFilter-qbbXWiSh.js";import{u as D,S,O as M,b as R,A as w,M as V,c as P,C as U,d as H,T as K,e as Q,f as v,g as B,H as E,I as Z}from"./InvenTreeTable-rEa-i3pt.js";import{R as k,D as L,b as N,S as W,c as X,C as q,T as z,d as J,e as G,P as Y,g as $}from"./ColumnRenderers-6jyK6a0i.js";import{u as ee}from"./SalesOrderForms-CNvk5nqw.js";function ue({partId:o,customerId:n}){const _=D(o?"returnorders-part":"returnorders-index"),l=A(),c=T(),d=O(),b=i.useMemo(()=>{const r=[{name:"status",label:e._({id:"uAQUqI"}),description:e._({id:"OIH7WF"}),choiceFunction:S(a.returnorder)},M(),R(),w(),V(),P(),U(),H(),K(),Q(),v(),B(),{name:"project_code",label:e._({id:"Sdfr6G"}),description:e._({id:"8sHFLc"}),choices:c.choices},E(),{name:"assigned_to",label:e._({id:"XQACoK"}),description:e._({id:"OVVPn5"}),choices:d.choices}];return o&&r.push({name:"include_variants",type:"boolean",label:e._({id:"/g9i/Z"}),description:e._({id:"NkXwQy"})}),r},[o,c.choices,d.choices]),f=i.useMemo(()=>[k({}),{accessor:"customer__name",title:e._({id:"876pfE"}),sortable:!0,render:r=>{const t=r.customer_detail??{};return s.jsx(j,{src:t==null?void 0:t.image,alt:t.name,text:t.name})}},{accessor:"customer_reference"},L({}),N(),W({model:a.returnorder}),X({}),q({}),z({}),J({accessor:"complete_date"}),G({}),{accessor:"total_price",title:e._({id:"KyZVKD"}),sortable:!0,render:r=>{var t;return x(r.total_price,{currency:r.order_currency??((t=r.customer_detail)==null?void 0:t.currency)})}}],[]),u=I({}),m=C({url:p.return_order_list,title:e._({id:"mpNlR/"}),fields:u,initialData:{customer:n},follow:!0,modelType:a.returnorder}),F=i.useMemo(()=>[s.jsx(h,{tooltip:e._({id:"mpNlR/"}),onClick:()=>m.open(),hidden:!l.hasAddRole(g.return_order)},"add-return-order")],[l]);return s.jsxs(s.Fragment,{children:[m.modal,s.jsx(Z,{url:y(p.return_order_list),tableState:_,columns:f,props:{params:{part:o,customer:n,customer_detail:!0},tableFilters:b,tableActions:F,modelType:a.returnorder,enableSelection:!0,enableDownload:!0,enableReports:!0}})]})}function me({partId:o,customerId:n}){const _=D(o?"salesorder-part":"salesorder-index"),l=A(),c=T(),d=O(),b=i.useMemo(()=>{const r=[{name:"status",label:e._({id:"uAQUqI"}),description:e._({id:"OIH7WF"}),choiceFunction:S(a.salesorder)},M(),R(),w(),V(),P(),U(),H(),K(),Q(),v(),B(),{name:"project_code",label:e._({id:"Sdfr6G"}),description:e._({id:"8sHFLc"}),choices:c.choices},E(),{name:"assigned_to",label:e._({id:"XQACoK"}),description:e._({id:"OVVPn5"}),choices:d.choices}];return o&&r.push({name:"include_variants",type:"boolean",label:e._({id:"/g9i/Z"}),description:e._({id:"NkXwQy"})}),r},[o,c.choices,d.choices]),f=ee({}),u=C({url:p.sales_order_list,title:e._({id:"VzdnWM"}),fields:f,initialData:{customer:n},follow:!0,modelType:a.salesorder}),m=i.useMemo(()=>[s.jsx(h,{tooltip:e._({id:"VzdnWM"}),onClick:()=>u.open(),hidden:!l.hasAddRole(g.sales_order)},"add-sales-order")],[l]),F=i.useMemo(()=>[k({}),{accessor:"customer__name",title:e._({id:"876pfE"}),sortable:!0,render:r=>{const t=r.customer_detail??{};return s.jsx(j,{src:t==null?void 0:t.image,alt:t.name,text:t.name})}},{accessor:"customer_reference",title:e._({id:"ZVUe1A"})},L({}),N(),{accessor:"shipments_count",title:e._({id:"aljM0q"}),render:r=>s.jsx(Y,{progressLabel:!0,value:r.completed_shipments_count,maximum:r.shipments_count})},W({model:a.salesorder}),X({}),q({}),z({}),$({}),G({}),{accessor:"total_price",title:e._({id:"KyZVKD"}),sortable:!0,render:r=>{var t;return x(r.total_price,{currency:r.order_currency??((t=r.customer_detail)==null?void 0:t.currency)})}}],[]);return s.jsxs(s.Fragment,{children:[u.modal,s.jsx(Z,{url:y(p.sales_order_list),tableState:_,columns:F,props:{params:{customer_detail:!0,part:o,customer:n},tableFilters:b,tableActions:m,modelType:a.salesorder,enableSelection:!0,enableDownload:!0,enableReports:!0}})]})}export{ue as R,me as S};
