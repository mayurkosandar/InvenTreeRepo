import{r as h,j as n,S as b,m as c,dY as _,dZ as f,G as d,Z as g,bB as C,i as t,by as x,d as w,aT as y,aI as v,ci as k,A as D}from"./vendor-BnaqX2_l.js";import{Y as T}from"./YesNoButton-W51do83Q.js";import{T as I,a as P,b as S}from"./Instance-DrUTN1gu.js";import{f as z,b as B}from"./formatters-DBeaC9UC.js";import{r as l}from"./index-fPzgLVil.js";import{c as R}from"./navigation-B-mN4luC.js";import{I as G}from"./BaseContext-CH9A7-TB.js";function L(e){const r=h.useMemo(()=>{const s=e.maximum??100,o=Math.max(e.value,0);return s==0?0:o/s*100},[e]);return n.jsxs(b,{gap:2,style:{flexGrow:1,minWidth:"100px"},children:[e.progressLabel&&n.jsxs(c,{ta:"center",size:"xs",children:[e.value," / ",e.maximum]}),n.jsx(_,{value:r,color:r<100?"orange":r>100?"blue":"green",size:e.size??"md",radius:"sm"})]})}function M({value:e,extra:r,title:s,icon:o,iconColor:a}){const i=h.useMemo(()=>Array.isArray(r)?r.length==0?null:n.jsx(b,{gap:"xs",children:r.map((u,j)=>n.jsx("div",{children:u},`item-${j}-${u}`))}):r,[r]);return i?n.jsxs(f,{withinPortal:!0,closeDelay:20,openDelay:250,children:[n.jsx(f.Target,{children:n.jsxs(d,{gap:"xs",justify:"space-between",wrap:"nowrap",children:[e,n.jsx(G,{icon:o??"info",iconProps:{size:16,color:a??"blue"}})]})}),n.jsx(f.Dropdown,{children:n.jsxs(b,{gap:"xs",children:[n.jsxs(d,{gap:"xs",justify:"left",children:[n.jsx(g,{size:"16",color:"blue"}),n.jsx(c,{fw:"bold",children:s})]}),n.jsx(C,{}),i]})})]}):e}function N({projectCode:e}){return e?n.jsx(M,{value:e==null?void 0:e.code,title:t._({id:"Sdfr6G"}),extra:e&&n.jsx(c,{children:e==null?void 0:e.description},"project-code")}):"-"}function F({part:e,full_name:r}){return e?n.jsxs(d,{justify:"space-between",wrap:"nowrap",children:[n.jsx(I,{src:(e==null?void 0:e.thumbnail)??(e==null?void 0:e.image),text:r?e==null?void 0:e.full_name:e==null?void 0:e.name}),n.jsxs(d,{justify:"flex-end",wrap:"nowrap",gap:"xs",children:[(e==null?void 0:e.active)==!1&&n.jsx(x,{label:t._({id:"TgUP31"}),children:n.jsx(w,{color:"red",size:16})}),(e==null?void 0:e.locked)&&n.jsx(x,{label:t._({id:"6z/VRr"}),children:n.jsx(y,{size:16})}),(e==null?void 0:e.starred)&&n.jsx(x,{label:t._({id:"uB1bw/"}),children:n.jsx(v,{size:16,color:"green"})})]})]}):n.jsx(k,{})}function J(e){return{accessor:"location",title:t._({id:"wJijgU"}),sortable:!0,ordering:"location",render:r=>{const s=l(r,e.accessor??"");return s?n.jsx(c,{children:s.name}):n.jsx(c,{style:{fontStyle:"italic"},children:t._({id:"47h3Cb"})})},...e}}function Q(e){return{sortable:!0,switchable:!0,render:r=>n.jsx(T,{value:l(r,e.accessor??"")}),...e}}function V(e){return{accessor:"description",title:t._({id:"Nu4oKW"}),sortable:!1,switchable:!0,...e}}function W(e){return{accessor:"link",sortable:!1,render:r=>{const s=l(r,e.accessor??"link");return s?n.jsx(D,{href:s,target:"_blank",rel:"noreferrer noopener",onClick:o=>{R(o),window.open(s,"_blank","noopener,noreferrer")},children:s}):"-"},...e}}function O(e){return{accessor:"reference",title:t._({id:"N2C89m"}),sortable:!0,switchable:!0,...e}}function q(e){return{accessor:"note",sortable:!1,title:t._({id:"KiJn9B"}),render:r=>r.note??r.notes,...e}}function X(){return{accessor:"line_items",sortable:!0,render:e=>n.jsx(L,{progressLabel:!0,value:e.completed_lines,maximum:e.line_items})}}function p(e){return{accessor:"project_code",ordering:"project_code",sortable:!0,title:t._({id:"Sdfr6G"}),render:r=>{const s=l(r,e.accessor??"project_code_detail");return n.jsx(N,{projectCode:s})},...e}}function ee({model:e,sortable:r,ordering:s,accessor:o,title:a,hidden:i}){return{accessor:o??"status",sortable:r??!0,ordering:s,title:a,hidden:i,render:P(e,o??"status_custom_key")}}function ne(e){return{accessor:"responsible",sortable:!0,switchable:!0,render:r=>r.responsible&&S({instance:r.responsible_detail}),...e}}function m(e){return{accessor:"date",sortable:!0,title:t._({id:"mYGY3B"}),switchable:!0,render:r=>z(l(r,e.accessor??"date")),...e}}function re(e){return m({accessor:"target_date",title:t._({id:"ZmykKo"}),...e})}function se(e){return m({accessor:"creation_date",title:t._({id:"FNcMGM"}),...e})}function te(e){return m({accessor:"completion_date",title:t._({id:"41ha49"}),...e})}function oe(e){return m({accessor:"shipment_date",title:t._({id:"MFQxyA"}),...e})}function A({accessor:e,title:r,currency:s,currency_accessor:o,sortable:a}){return{accessor:e,title:r??t._({id:"Q2lUR2"}),sortable:a??!0,render:i=>{const u=o??`${e}_currency`;return B(l(i,e),{currency:s??l(i,u)})}}}function ie(){return A({accessor:"total_price",title:t._({id:"KyZVKD"})})}export{Q as B,se as C,V as D,W as L,q as N,L as P,O as R,ee as S,re as T,F as a,X as b,p as c,te as d,ne as e,M as f,oe as g,J as h,m as i,A as j,ie as k};
